<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="author" content="PT Sigma Cipta Caraka (Telkomsigma)">
	<meta name="description" content="HOME for PROUDS 2 Web Application">
	<link rel="icon" href="http://localhost:5501/media/favicon.png" type="image/x-icon" />
	<title>SETTING | PROUDS 2</title>

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">
	<link rel="stylesheet" href="https://cdn.materialdesignicons.com/3.9.97/css/materialdesignicons.min.css">
	<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	<link rel="stylesheet" href="../../../styles/perfect-scrollbar.css">
	<link rel="stylesheet" href="../../../styles/style.scss">
</head>

<body>
	<div class="loader-wrapper animated fadeIn">
		<img src="http://localhost:5501/media/loader.gif">
	</div>

	<div id="main-layout" class="wrapper open-first">
		<section id="side-main" class="sidebar">
			<div class="brand animated slideInLeft fast">
				<span>PROUDS</span>
			</div>
			<div class="side-list animated slideInLeft faster">
				<a href="#notification" class="parent-list">
					<div class="list-title">
						<label>
							<span class="mdi mdi-bell-outline in-left"></span>
							<span>Notification</span>
						</label>
						<div class="action">
							<span class="tag is-warning">{{notifCount}}</span>
						</div>
					</div>
				</a>
			</div>

			<!-- Sidebar disesuaikan dengan halaman yang dibuka -->
			<side-list label="Setting" name="setting">
				<side-item href="authorization.html">Authorization</side-item>
				<side-item href="baseline.html">Baseline</side-item>
				<side-item href="customer.html">Customer</side-item>
				<side-item href="dayscheme.html">Days Scheme</side-item>
				<side-item href="importdata.html">Import Data</side-item>
				<side-item href="issue.html">Issue</side-item>
				<side-item active>Menu</side-item>
				<side-item href="organization.html">Organization</side-item>
				<side-list label="Projects" name="pro">
					<side-item href="privilage.html">Project Privilage</side-item>
					<side-item href="typelevel.html">Type-Level</side-item>
				</side-list>
				<side-item href="users.html">Users</side-item>
			</side-list>

			<side-list label="My Workspace" name="ws"></side-list>
		</section>

		<nav id="nav-main" class="navbar main is-primary" role="navigation" aria-label="main navigation">
			<div class="navbar-menu main-navbar">
				<div class="navbar-start">
					<a id="toggle-sidebar" class="navbar-item">
						<span class="mdi mdi-chevron-left mdi-24px"></span>
					</a>

					<a href="../project/list.html" class="navbar-item">
						PROJECT
					</a>

					<a class="navbar-item">
						Resource
					</a>

					<a class="navbar-item">
						Monitoring
					</a>

					<a class="navbar-item">
						Operations
					</a>

					<a class="navbar-item">
						Reports
					</a>
				</div>

				<div class="navbar-end">
					<a href="http://" class="navbar-item hover-text">
						<span class="mdi mdi-view-dashboard-outline"></span>
						<span data-toggle="text" class="animated fadeIn is-uppercase in-right faster">dashboard</span>
					</a>

					<a href="http://" class="navbar-item hover-text is-active">
						<span class="mdi mdi-settings-outline"></span>
						<span data-toggle="text" class="animated fadeIn is-uppercase in-right faster">setting</span>
					</a>

					<div class="navbar-item has-dropdown is-hoverable">
						<div class="navbar-link is-arrowless">
							<span class="mdi mdi-account-outline"></span>
						</div>
						<div class="navbar-dropdown is-boxed is-right">
							<a href="../profile.html" class="navbar-item">Account Profile</a>
							<a href="#help" class="navbar-item">Need Help ?</a>
							<hr class="navbar-divider">
							<a href="#" class="navbar-item">
								<span>Sign Out</span>
								<span class="mdi mdi-logout-variant"></span>
							</a>
						</div>
					</div>
				</div>
			</div>
		</nav>

		<section id="vapp" class="contentPage">
			<section class="hero is-light is-bold">
				<div class="hero-body">
					<div class="container">
						<h1 class="title is-marginless">
							<span>Menu</span>
						</h1>
						<div id="bookmarkPage">
							<bookmark-button></bookmark-button>
						</div>
					</div>
				</div>
			</section>
			<section class="section">
				<div id="contentApp" class="container">
					<template v-if="menuTree">
						<b-button type="is-success is-small" @click="menuForm">Add Menu</b-button>
						<div class="columns is-marginless is-marginless">
							<div class="column is-2 has-text-centered" style="margin-left: 40px;">
								<p class="label">Menu Name</p>
							</div>
							<div class="column is-3 has-text-centered" style="margin-left: 120px;">
								<p class="label">Description</p>
							</div>
							<div class="column is-3 has-text-centered">
								<p class="label">Link</p>
							</div>
							<div class="column is-2 has-text-centered" style="margin-left: 2px;">
								<p class="label">Action</p>
							</div>
						</div>
						<!-- <v-jstree id="menuTree" :data="menu" :draggable="drag" @item-drag-start="dragStart"
												@item-drop="drop" allow-batch whole-row @item-click="itemClick">
											</v-jstree> -->
						<v-jstree :data="menu">
							<template scope="_">
								<div class="columns is-marginless">
									<div class="column is-3 is-marginless is-paddingless">
										<div style="display: inherit; width: 200px">
											<i :class="_.vm.themeIconClasses" role="presentation"
												v-if="!_.model.loading" is-marginless></i>
											{{_.model.text}}
										</div>
									</div>
									<div class="column is-3 is-marginless is-paddingless">
										<div style="display: inherit; width: 200px;">
											<div v-if="_.model.parent===0" style="margin-left: 30px;">
												{{_.model.desc}}
											</div>
											<div v-if="_.model.parent!==0">
												{{_.model.desc}}
											</div>
										</div>
									</div>
									<div class="column is-3 is-marginless is-paddingless" style="margin-left: 30px;">
										<div style="display: inherit; width: 200px; margin-left:110px">
											<div v-if="_.model.parent===0">
												{{_.model.link}}
											</div>
											<div v-if="_.model.parent!==0">
												{{_.model.link}}
											</div>
										</div>
									</div>
									<div class="column is-marginless is-paddingless">
										<div style="display: inherit; width: 200px; margin-left:95px">
											<div v-if="_.model.parent===0" style="margin-left: 30px;">
												<button
													style="border: 0px; background-color: transparent; color: green; cursor: pointer;"
													@click="editMenuTree(_.model)"><i class="fa fa-edit"></i>
												</button>
												<button
													style="border: 0px; background-color: transparent; color: red; cursor: pointer;"
													@click="deleteMenuTree(_.model,'http://localhost:5501/demo/post_detect.php?')"><i
														class="fa fa-remove"></i>
												</button>
											</div>
											<div v-if="_.model.parent!==0">
												<button
													style="border: 0px; background-color: transparent; color: green; cursor: pointer;"
													@click="editMenuTree(_.model)"><i class="fa fa-edit"></i>
												</button>
												<button
													style="border: 0px; background-color: transparent; color: red; cursor: pointer;"
													@click="deleteMenuTree(_.model,'http://localhost:5501/demo/post_detect.php?')"><i
														class="fa fa-remove"></i>
												</button>
											</div>
										</div>
									</div>
								</div>
							</template>
						</v-jstree>
					</template>

					<div class="animated fadeIn" v-if="addMenu">
						<form action="http://localhost:5501/demo/post_detect.php" method="POST">
							<nav class="breadcrumb has-succeeds-separator" aria-label="breadcrumbs">
								<ul class="is-marginless">
									<li><a @click="menuForm">Menu</a></li>
									<li class="is-active"><a href="#" aria-current="page">Add Menu</a></li>
								</ul>
							</nav>
							<div class="columns">
								<div class="column is-2">
									<p class="label">Name</p>
								</div>
								<div class="column">
									<crud-input type="text" name="menu_name" placeholder="Fill Menu Name"
										input-style="margin-bottom: 0px;" required>
									</crud-input>
								</div>
							</div>
							<div class="columns">
								<div class="column is-2">
									<p class="label">Parent</p>
								</div>
								<div class="column">
									<crud-input type="select" name="parent" placeholder="Choose Parent"
										input-style="margin-bottom: 0px;" required>
										<option value="0">Has no parent</option>
										<option v-for="(menu, index) in allmenu" :key="index" :value="menu.id">
											{{menu.text}}</option>
									</crud-input>
								</div>
							</div>
							<div class="columns">
								<div class="column is-2">
									<p class="label">Type</p>
								</div>
								<div class="column">
									<crud-input type="select" name="menu_type" placeholder="Choose Menu Type"
										input-style="margin-bottom: 0px;" required>
										<option value="1">Navigation</option>
										<option value="2">Pop Up</option>
										<option value="3">Global Menu</option>
									</crud-input>
								</div>
							</div>
							<div class="columns">
								<div class="column is-2">
									<p class="label">Link</p>
								</div>
								<div class="column">
									<crud-input type="text" name="link" placeholder="Fill Menu Link"
										input-style="margin-bottom: 0px;" required>
									</crud-input>
								</div>
							</div>
							<div class="columns">
								<div class="column is-2">
									<p class="label">Icon</p>
								</div>
								<div class="column">
									<crud-input type="text" name="icon" placeholder="Fill Menu Icon"
										input-style="margin-bottom: 0px;" required>
									</crud-input>
								</div>
							</div>
							<div class="columns">
								<div class="column is-2">
									<p class="label">Description</p>
								</div>
								<div class="column">
									<crud-input type="textarea" name="description" placeholder="Fill Menu Description"
										input-style="margin-bottom: 0px;" :max-length="55" required>
									</crud-input>
								</div>
							</div>
							<button class="button is-success pull-right is-long" type="submit">
								Save
							</button>
							<br>
						</form>
					</div>

					<div class="animated fadeIn" v-if="editMenu">
						<form action="http://localhost:5501/demo/post_detect.php" method="POST">
							<nav class="breadcrumb has-succeeds-separator" aria-label="breadcrumbs">
								<ul class="is-marginless">
									<li><a @click="editMenuTree">Menu</a></li>
									<li class="is-active"><a href="#" aria-current="page">Edit Menu</a></li>
								</ul>
							</nav>
							<b-input type="hidden" name="id" :value="tampung.id"></b-input>
							<div class="columns">
								<div class="column is-2">
									<p class="label">Menu Name</p>
								</div>
								<div class="column">
									<crud-input type="text" name="menu_name" :value="tampung.text"
										placeholder="Fill Menu Name" input-style="margin-bottom: 0px;" required>
									</crud-input>
								</div>
							</div>
							<div class="columns">
								<div class="column is-2">
									<p class="label">Parent</p>
								</div>
								<div class="column">
									<crud-input type="select" name="parent" :value="tampung.parent"
										placeholder="Choose Parent" input-style="margin-bottom:0px;" required>
										<option value="0">Has no parent</option>
										<option v-for="(menu, index) in allmenu" :key="index" :value="menu.id">
											{{menu.text}}</option>
									</crud-input>
								</div>
							</div>
							<div class="columns">
								<div class="column is-2">
									<p class="label">Type</p>
								</div>
								<div class="column">
									<crud-input type="select" name="menu_type" :value="tampung.type"
										placeholder="Choose Menu Type" input-style="margin-bottom:0px;" required>
										<option value="1">Navigation</option>
										<option value="2">Pop Up</option>
										<option value="3">Global Menu</option>
									</crud-input>
								</div>
							</div>
							<div class="columns">
								<div class="column is-2">
									<p class="label">Link</p>
								</div>
								<div class="column">
									<crud-input type="text" name="link" :value="tampung.link" placeholder="Fill Link"
										input-style="margin-bottom: 0px;" required>
									</crud-input>
								</div>
							</div>
							<div class="columns">
								<div class="column is-2">
									<p class="label">Icon</p>
								</div>
								<div class="column">
									<crud-input type="text" name="icon" :value="tampung.icon" placeholder="Fill Icon"
										input-style="margin-bottom: 0px;" required>
									</crud-input>
								</div>
							</div>
							<div class="columns">
								<div class="column is-2">
									<p class="label">Description</p>
								</div>
								<div class="column">
									<crud-input type="textarea" name="description" :value="tampung.desc"
										placeholder="Fill Menu Description" input-style="margin-bottom: 0px;"
										:max-length="55" required>
									</crud-input>
								</div>
							</div>
							<button class="button is-success pull-right is-long" type="submit">
								Save
							</button>
							<br>
						</form>
					</div>
				</div>
			</section>
		</section>

		<section id="infoFooter">
			<info-footer api-entry-chart="http://localhost:5501/demo/chart.php?entry"
				api-utilization-chart="http://localhost:5501/demo/chart.php?utilization" entry="100" utilization="100">
			</info-footer>
		</section>
	</div>

	<script>
		const VAPPS = {
			MENU: [
				{
					"id": 1,
					"text": "Project",
					"link": "",
					"desc": "Parent of Project",
					"type": 1,
					"icon": "fa fa-meetup",
					"isLeaf": false,
					"opened": true,
					"parent": 0
				},
				{
					"id": 2,
					"text": "Project List",
					"link": "list.html",
					"desc": "List all project",
					"type": 1,
					"icon": "fa fa-meetup",
					"isLeaf": false,
					"opened": false,
					"parent": 1
				},
				{
					"id": 3,
					"text": "Project Assignment",
					"link": "projectassignment.html",
					"desc": "List all project assignment List all project assignment",
					"type": 1,
					"icon": "fa fa-meetup",
					"isLeaf": false,
					"opened": false,
					"parent": 1
				},
				{
					"id": 4,
					"text": "Timesheet",
					"link": "timesheet.html",
					"desc": "Timesheet",
					"type": 1,
					"icon": "fa fa-meetup",
					"isLeaf": false,
					"opened": false,
					"parent": 1
				},
				{
					"id": 5,
					"text": "Rebaseline",
					"link": "rebaseline.html",
					"desc": "Rebaseline",
					"type": 1,
					"icon": "fa fa-meetup",
					"isLeaf": false,
					"opened": false,
					"parent": 1
				},
				{
					"id": 6,
					"text": "Setting",
					"link": "",
					"desc": "Parent of Setting",
					"type": 1,
					"icon": "fa fa-meetup",
					"isLeaf": false,
					"opened": true,
					"parent": 0
				},
				{
					"id": 7,
					"text": "Authorization",
					"link": "authorization.html",
					"desc": "authorization",
					"type": 1,
					"icon": "fa fa-meetup",
					"isLeaf": false,
					"opened": false,
					"parent": 6
				},
				{
					"id": 8,
					"text": "Baseline",
					"link": "baseline.html",
					"desc": "baseline",
					"type": 1,
					"icon": "fa fa-meetup",
					"isLeaf": false,
					"opened": false,
					"parent": 6
				}
			]
		}
	</script>

	<script src="../../scripts/layout/controller.js"></script>
	<script src="../../scripts/setting/settings.js"></script>
</body>

</html>