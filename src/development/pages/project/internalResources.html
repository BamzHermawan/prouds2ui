<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="author" content="PT Sigma Cipta Caraka (Telkomsigma)">
    <meta name="description" content="HOME for PROUDS 2 Web Application">
    <link rel="icon" href="http://localhost:5501/media/favicon.png" type="image/x-icon" />
    <title>PROJECT | PROUDS 2</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">
    <link rel="stylesheet" href="https://cdn.materialdesignicons.com/3.9.97/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="../../../styles/perfect-scrollbar.css">
    <link rel="stylesheet" href="../../../styles/style.scss">
</head>

<body>
    <div class="loader-wrapper animated fadeIn">
        <img src="http://localhost:5501/media/loader.gif">
    </div>

    <div id="main-layout" class="wrapper open-first">
        <section id="side-main" class="sidebar">
            <div class="brand animated slideInLeft fast">
                <span>PROUDS</span>
            </div>
            <div class="side-list animated slideInLeft faster">
                <a href="#notification" class="parent-list">
                    <div class="list-title">
                        <label>
							<span class="mdi mdi-bell-outline in-left"></span>
							<span>Notification</span>
						</label>
                        <div class="action">
                            <span class="tag is-warning">{{notifCount}}</span>
                        </div>
                    </div>
                </a>
            </div>

            <!-- Sidebar disesuaikan dengan halaman yang dibuka -->
            <side-list label="Project" name="project">
                <side-item href="./list.html" active>Project List</side-item>
                <side-item href="./projectAssignment.html">Project Assignment</side-item>
                <side-item href="./projectRequest.html">Project Request</side-item>
                <side-item href="./timesheetList.html">My Task</side-item>
                <side-item href="./timesheetApproval.html">Timesheet Approval</side-item>
                <side-item href="../rebaseline.html">Rebaseline</side-item>
                <side-item href="#no-edit">Closing</side-item>
            </side-list>

            <side-list label="My Workspace" name="ws"></side-list>
        </section>

        <nav id="nav-main" class="navbar main is-primary" role="navigation" aria-label="main navigation">
            <div class="navbar-menu main-navbar">
                <div class="navbar-start">
                    <a id="toggle-sidebar" class="navbar-item">
                        <span class="mdi mdi-chevron-left mdi-24px"></span>
                    </a>

                    <a class="navbar-item is-active">
						PROJECT
					</a>

                    <a class="navbar-item">
						Resource
					</a>

                    <a class="navbar-item">
						Monitoring
					</a>

                    <a class="navbar-item">
						Operations
					</a>

                    <a class="navbar-item">
						Reports
					</a>
                </div>

                <div class="navbar-end">
                    <a href="http://" class="navbar-item hover-text">
                        <span class="mdi mdi-view-dashboard-outline"></span>
                        <span data-toggle="text" class="animated fadeIn is-uppercase in-right faster">dashboard</span>
                    </a>

                    <a href="../setting/authorization.html" class="navbar-item hover-text">
                        <span class="mdi mdi-settings-outline"></span>
                        <span data-toggle="text" class="animated fadeIn is-uppercase in-right faster">setting</span>
                    </a>

                    <div class="navbar-item has-dropdown is-hoverable">
                        <div class="navbar-link is-arrowless">
                            <span class="mdi mdi-account-outline"></span>
                        </div>
                        <div class="navbar-dropdown is-boxed is-right">
                            <a href="../profile.html" class="navbar-item">Account Profile</a>
                            <a href="#help" class="navbar-item">Need Help ?</a>
                            <hr class="navbar-divider">
                            <a href="#" class="navbar-item">
                                <span>Sign Out</span>
                                <span class="mdi mdi-logout-variant"></span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <section id="vapp" class="contentPage">
            <section class="hero is-light is-bold">
                <div class="hero-body">
                    <nav class="level">
                        <div class="level-left">
                            <h1 class="title is-marginless">
                                <span>Internal Resources</span>
                            </h1>
                        </div>
                        <div class="level-right">
                            <div id="bookmarkPage">
                                <bookmark-button></bookmark-button>
                            </div>
                        </div>
                    </nav>
                </div>
            </section>
            <section class="section">
                <div id="contentApp" class="container" data-title="Internal Resources">

                    <!-- * Breadcrumb page -->
                    <nav class="breadcrumb has-succeeds-separator" aria-label="breadcrumbs">
                        <ul class="is-marginless">
                            <li><a href="list.html">Project List</a></li>
                            <li class="is-active"><a href="#" aria-current="page">Internal Resources</a></li>
                        </ul>
                    </nav>

                    <!-- * Project Detail Title Format -->
                    <div class="columns is-marginless">
                        <div class="column is-8-desktop content is-marginless is-paddingless">
                            <h3 class="is-small has-text-weight-light is-reduced-margin is-uppercase">Delivery Awesome App Mantap Super Jaya Semua Suka Sampai Mendunia</h3>
                            <b-field grouped>
                                <div v-cloak class="control">
                                    <div class="tags has-addons">
                                        <span class="tag is-dark">ID</span>
                                        <span ref="project_id" class="tag is-info">1900123</span>
                                    </div>
                                </div>
                                <div v-cloak class="control">
                                    <b-taglist v-once attached size="are-medium">
                                        <b-tag type="is-dark">IWO</b-tag>
                                        <b-tag type="is-info">P-1909-TTES0481</b-tag>
                                    </b-taglist>
                                </div>
                                <div v-cloak class="control">
                                    <b-taglist v-once attached size="are-medium">
                                        <b-tag type="is-dark">PM</b-tag>
                                        <b-tag type="is-info">Ade Wiranata Putra</b-tag>
                                    </b-taglist>
                                </div>
                                <div v-cloak class="control">
                                    <b-taglist v-once attached size="are-medium">
                                        <b-tag type="is-dark">
                                            <span class="mdi mdi-account-tie is-marginless"></span>
                                        </b-tag>
                                        <b-tag type="is-info">2</b-tag>
                                    </b-taglist>
                                </div>
                            </b-field>
                        </div>
                    </div>

                    <span class="white-space is-medium"></span>

                    <div class="animated fadeIn">
                        <b-message id="is-alert-message" class="animated" type="is-danger">
                            <span style="margin-right:5px;">âš </span> Your allocated budget is more than your plan <br>
                        </b-message>

                        <b-collapse class="card is-shadowless is-grey" :open="true">
                            <div slot="trigger" slot-scope="props" class="card-header" role="button">
                                <p class="card-header-title has-text-light">
                                    Resource Plan / BoQ
                                </p>
                                <a class="card-header-icon">
                                    <b-icon :icon="props.open ? 'menu-down' : 'menu-up'">
                                    </b-icon>
                                </a>
                            </div>
                            <resource-table v-once type="is-info">
                                <template>
									<!-- Looping baris dengan php -->
									<resource-row qty="7" days="80" rate="750000">Senior Programmer</resource-row>
									<resource-row qty="5" days="50" rate="600000">Senior Programmer</resource-row>
									<!-- Looping baris dengan php -->
								</template>
                                <template slot="after">
									<tr>
										<th class="has-text-centered is-grey">Internal Resources - Indirect</th>
										<td colspan="5" class="is-info is-bolder has-text-right">150,000,000</td>
									</tr>
								</template>
                            </resource-table>
                        </b-collapse>

                        <span class="white-space is-medium"></span>

                        <b-collapse class="card is-shadowless is-grey" :open="true">
                            <div slot="trigger" slot-scope="props" class="card-header" role="button">
                                <p class="card-header-title has-text-light">
                                    Assigned by PM
                                </p>
                                <a class="card-header-icon">
                                    <b-icon :icon="props.open ? 'menu-down' : 'menu-up'">
                                    </b-icon>
                                </a>
                            </div>
                            <resource-table v-once type="is-success">
                                <!-- Looping baris dengan php -->
                                <resource-row qty="7" days="80" rate="750000">Senior Programmer</resource-row>
                                <resource-row qty="5" days="50" rate="600000">Senior Programmer</resource-row>
                                <!-- Looping baris dengan php -->
                            </resource-table>
                        </b-collapse>

                        <span class="white-space is-medium"></span>

                        <b-collapse class="card is-light" :open="true">
                            <div slot="trigger" slot-scope="props" class="card-header" role="button">
                                <p class="card-header-title">
                                    Resources
                                </p>
                                <a class="card-header-icon">
                                    <b-icon :icon="props.open ? 'menu-down' : 'menu-up'">
                                    </b-icon>
                                </a>
                            </div>
                            <div class="card-content" style="padding:10px;">
                                <nav class="level">
                                    <div class="level-left">
                                        <b-field>
                                            <b-input placeholder="Search..." type="search" icon="magnify" v-model="resources.query">
                                            </b-input>
                                        </b-field>
                                    </div>
                                    <div class="level-right">
                                        <div class="level-item">
                                            <b-field>
                                                <p class="control">
                                                    <button class="button is-static is-dark-blend">
														Resource Plan
													</button>
                                                </p>
                                                <p class="control">
                                                    <span class="button is-static is-info-blend">4</span>
                                                </p>
                                            </b-field>
                                        </div>
                                        <div class="level-item">
                                            <b-field>
                                                <p class="control">
                                                    <button class="button is-static is-dark-blend">
														Allocated
													</button>
                                                </p>
                                                <p class="control">
                                                    <span class="button is-static is-info-blend">{{ resources.raw.length }}</span>
                                                </p>
                                            </b-field>
                                        </div>
                                    </div>
                                </nav>
                                <b-table :data="filtered" paginated pagination-simple per-page="5">
                                    <template slot-scope="{ row }">
										<b-table-column field="nik" label="NIK" sortable>
											{{ row.nik }}
										</b-table-column>
										<b-table-column field="name" label="User" sortable>
											{{ row.name }}
										</b-table-column>
										<b-table-column field="unit" label="Business Unit" sortable>
											{{ row.unit }}
										</b-table-column>
										<b-table-column field="start" label="Assign From" sortable>
											{{ row.start | moment }}
										</b-table-column>
										<b-table-column field="end" label="Assign To" sortable>
											{{ row.end | moment }}
										</b-table-column>
										<b-table-column field="duration" label="Duration (days)" sortable>
											{{ row.duration }}
										</b-table-column>
										<b-table-column field="workload" label="Workload" sortable>
											{{ row.workload }}%
										</b-table-column>
									</template>
                                    <template slot="empty">
										<span class="white-space"></span>
										<b-message type="is-warning">
											<p class="has-text-centered">
												Sorry, we can't find any data related
											</p>
										</b-message>
									</template>
                                </b-table>
                            </div>
                        </b-collapse>
                    </div>
                </div>
            </section>
        </section>

        <section id="infoFooter">
            <info-footer api-entry-chart="http://localhost:5501/demo/chart.php?entry" api-utilization-chart="http://localhost:5501/demo/chart.php?utilization" entry="100" utilization="100">
            </info-footer>
        </section>
    </div>

    <div class="api-testing" base="http://localhost:5501/demo/">
        <!-- 
			expected return from getNotification!
			[{
				"id": {String},
				"subject": {String},
				"content": {HTML String},
				"dateStamp": {Date String with format DD/MM/YYYY},
				"timeStamp": {Time String with format H:i},
				"read": {Boolean}
			}, ... ],
		-->
        <api-test url="getNotification.php" key="getNotification"></api-test>
    </div>

    <script id="implantedJSON" type="application/json">
        [{
            "nik": "SGM02019",
            "name": "Terry Goodwin",
            "unit": "Suretech Genmy",
            "start": "26/7/2019",
            "end": "29/7/2019",
            "duration": 72,
            "workload": 54
        }, {
            "nik": "SGM12019",
            "name": "Patti Davidson",
            "unit": "Netropic Bristo",
            "start": "22/6/2019",
            "end": "25/5/2019",
            "duration": 140,
            "workload": 83
        }, {
            "nik": "SGM22019",
            "name": "Stacie Hooper",
            "unit": "Xixan Zounds",
            "start": "2/9/2019",
            "end": "20/5/2019",
            "duration": 163,
            "workload": 32
        }, {
            "nik": "SGM32019",
            "name": "Valerie Taylor",
            "unit": "Entality Webiotic",
            "start": "11/10/2019",
            "end": "19/7/2019",
            "duration": 156,
            "workload": 87
        }, {
            "nik": "SGM42019",
            "name": "Melendez Valentine",
            "unit": "Pharmex Terrago",
            "start": "8/2/2019",
            "end": "18/11/2019",
            "duration": 110,
            "workload": 69
        }, {
            "nik": "SGM52019",
            "name": "Maura Haynes",
            "unit": "Velos Schoolio",
            "start": "21/3/2019",
            "end": "17/7/2019",
            "duration": 148,
            "workload": 19
        }, {
            "nik": "SGM62019",
            "name": "Lucile Henson",
            "unit": "Strozen Scentric",
            "start": "20/12/2019",
            "end": "3/9/2019",
            "duration": 64,
            "workload": 42
        }, {
            "nik": "SGM72019",
            "name": "James Estrada",
            "unit": "Exotechno Handshake",
            "start": "17/5/2019",
            "end": "21/11/2019",
            "duration": 166,
            "workload": 50
        }, {
            "nik": "SGM82019",
            "name": "Lindsey Schwartz",
            "unit": "Exospeed Lotron",
            "start": "13/10/2019",
            "end": "5/7/2019",
            "duration": 72,
            "workload": 30
        }]
    </script>

    <script src="../../scripts/layout/controller.js"></script>
    <script src="../../scripts/project/internalResources/internalResources.js"></script>
</body>

</html>