parcelRequire=function(o,r,t){var e,l="function"==typeof parcelRequire&&parcelRequire,d="function"==typeof require&&require;function u(e,t){if(!r[e]){if(!o[e]){var a="function"==typeof parcelRequire&&parcelRequire;if(!t&&a)return a(e,!0);if(l)return l(e,!0);if(d&&"string"==typeof e)return d(e);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}i.resolve=function(t){return o[e][1][t]||t},i.cache={};var s=r[e]=new u.Module(e);o[e][0].call(s.exports,i,s,s.exports,this)}return r[e].exports;function i(t){return u(i.resolve(t))}}u.isParcelRequire=!0,u.Module=function(t){this.id=t,this.bundle=u,this.exports={}},u.modules=o,u.cache=r,u.parent=l,u.register=function(t,a){o[t]=[function(t,e){e.exports=a},{}]};for(var a=0;a<t.length;a++)try{u(t[a])}catch(t){e=e||t}if(t.length){var n=u(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define&&define.amd&&define(function(){return n})}if(parcelRequire=u,e)throw e;return u}({MFmt:[function(require,module,exports){var define,global=arguments[3];!function(t){if("object"==typeof exports&&void 0!==module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:this).JSGantt=t()}}(function(){var define,module,exports;return function i(o,r,l){function d(a,t){if(!r[a]){if(!o[a]){var e="function"==typeof require&&require;if(!t&&e)return e(a,!0);if(u)return u(a,!0);var n=new Error("Cannot find module '"+a+"'");throw n.code="MODULE_NOT_FOUND",n}var s=r[a]={exports:{}};o[a][0].call(s.exports,function(t){var e=o[a][1][t];return d(e||t)},s,s.exports,i,o,r,l)}return r[a].exports}for(var u="function"==typeof require&&require,t=0;t<l.length;t++)d(l[t]);return d}({1:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("./src/jsgantt");e.exports=n.JSGantt,a.JSGantt=n.JSGantt},{"./src/jsgantt":4}],2:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("./lang"),at=t("./events"),nt=t("./utils"),st=t("./task"),s=t("./options"),i=t("./xml");a.GanttChart=function(t,e){this.vDiv=t,this.vFormat=e,this.vDivId=null,this.vUseFade=1,this.vUseMove=1,this.vUseRowHlt=1,this.vUseToolTip=1,this.vUseSort=1,this.vUseSingleCell=25e3,this.vShowRes=1,this.vShowDur=1,this.vShowComp=1,this.vShowStartDate=1,this.vShowEndDate=1,this.vShowPlanStartDate=0,this.vShowPlanEndDate=0,this.vShowCost=0,this.vShowAddEntries=0,this.vShowEndWeekDate=1,this.vShowTaskInfoRes=1,this.vShowTaskInfoDur=1,this.vShowTaskInfoComp=1,this.vShowTaskInfoStartDate=1,this.vShowTaskInfoEndDate=1,this.vShowTaskInfoNotes=1,this.vShowTaskInfoLink=0,this.vEventClickRow=1,this.vShowDeps=1,this.vWorkingDays={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0},this.vEvents={taskname:null,res:null,dur:null,comp:null,startdate:null,enddate:null,planstartdate:null,planenddate:null,cost:null,beforeDraw:null,afterDraw:null},this.vEventsChange={taskname:null,res:null,dur:null,comp:null,startdate:null,enddate:null,planstartdate:null,planenddate:null,cost:null},this.vResources=null,this.vAdditionalHeaders={},this.vEditable=!1,this.vDebug=!1,this.vShowSelector=new Array("top"),this.vDateInputFormat="yyyy-mm-dd",this.vDateTaskTableDisplayFormat=nt.parseDateFormatStr("dd/mm/yyyy"),this.vDateTaskDisplayFormat=nt.parseDateFormatStr("dd month yyyy"),this.vHourMajorDateDisplayFormat=nt.parseDateFormatStr("day dd month yyyy"),this.vHourMinorDateDisplayFormat=nt.parseDateFormatStr("HH"),this.vDayMajorDateDisplayFormat=nt.parseDateFormatStr("dd/mm/yyyy"),this.vDayMinorDateDisplayFormat=nt.parseDateFormatStr("dd"),this.vWeekMajorDateDisplayFormat=nt.parseDateFormatStr("yyyy"),this.vWeekMinorDateDisplayFormat=nt.parseDateFormatStr("dd/mm"),this.vMonthMajorDateDisplayFormat=nt.parseDateFormatStr("yyyy"),this.vMonthMinorDateDisplayFormat=nt.parseDateFormatStr("mon"),this.vQuarterMajorDateDisplayFormat=nt.parseDateFormatStr("yyyy"),this.vQuarterMinorDateDisplayFormat=nt.parseDateFormatStr("qq"),this.vUseFullYear=nt.parseDateFormatStr("dd/mm/yyyy"),this.vCaptionType,this.vDepId=1,this.vTaskList=new Array,this.vFormatArr=new Array("hour","day","week","month","quarter"),this.vMonthDaysArr=new Array(31,28,31,30,31,30,31,31,30,31,30,31),this.vProcessNeeded=!0,this.vMinGpLen=8,this.vScrollTo="",this.vHourColWidth=18,this.vDayColWidth=18,this.vWeekColWidth=36,this.vMonthColWidth=36,this.vQuarterColWidth=18,this.vRowHeight=20,this.vTodayPx=-1,this.vLangs=n,this.vLang=navigator.language&&navigator.language in n?navigator.language:"en",this.vChartBody=null,this.vChartHead=null,this.vListBody=null,this.vChartTable=null,this.vLines=null,this.vTimer=20,this.vTooltipDelay=1500,this.vTooltipTemplate=null,this.includeGetSet=s.includeGetSet.bind(this),this.includeGetSet(),this.mouseOver=at.mouseOver,this.mouseOut=at.mouseOut,this.createTaskInfo=st.createTaskInfo,this.AddTaskItem=st.AddTaskItem,this.AddTaskItemObject=st.AddTaskItemObject,this.RemoveTaskItem=st.RemoveTaskItem,this.ClearTasks=st.ClearTasks,this.getXMLProject=i.getXMLProject,this.getXMLTask=i.getXMLTask,this.CalcTaskXY=function(){for(var t,e,a=this.getList(),n=Math.floor(this.getRowHeight()/2),s=0;s<a.length;s++)a[s].getID(),t=a[s].getBarDiv(),a[s].getTaskDiv(),e=a[s].getParItem()&&2==a[s].getParItem().getGroup()?a[s].getParItem().getChildRow():a[s].getChildRow(),t&&(a[s].setStartX(t.offsetLeft+1),a[s].setStartY(e.offsetTop+t.offsetTop+n-1),a[s].setEndX(t.offsetLeft+t.offsetWidth+1),a[s].setEndY(e.offsetTop+t.offsetTop+n-1))},this.clearDependencies=function(){for(var t=this.getLines();t.hasChildNodes();)t.removeChild(t.firstChild);this.vDepId=1},this.sLine=function(t,e,a,n,s){var i=Math.min(t,a),o=Math.min(e,n),r=Math.abs(a-t)+1,l=Math.abs(n-e)+1,d=document.createElement("div");return d.id=this.vDivId+"line"+this.vDepId++,d.style.position="absolute",d.style.overflow="hidden",d.style.zIndex="0",d.style.left=i+"px",d.style.top=o+"px",d.style.width=r+"px",d.style.height=l+"px",d.style.visibility="visible",d.className=1==r?"glinev":"glineh",s&&(d.className+=" "+s),this.getLines().appendChild(d),d},this.drawDependency=function(t,e,a,n,s,i){var o=1,r=!1,l=4,d=Math.floor(this.getRowHeight()/2);switch(n<e&&(d*=-1),s){case"SF":l*=-1,t-10<=a&&e!=n&&(r=!0),o=-1;break;case"SS":t<a?l*=-1:l=a-t-2*l;break;case"FF":t<=a&&(l=a-t+2*l),o=-1;break;default:a<=t+10&&e!=n&&(r=!0)}r?(this.sLine(t,e,t+l,e,i),this.sLine(t+l,e,t+l,n-d,i),this.sLine(t+l,n-d,a-2*l,n-d,i),this.sLine(a-2*l,n-d,a-2*l,n,i),this.sLine(a-2*l,n,a-1*o,n,i)):e!=n?(this.sLine(t,e,t+l,e,i),this.sLine(t+l,e,t+l,n,i),this.sLine(t+l,n,a-1*o,n,i)):this.sLine(t,e,a-1*o,n,i);var u=this.sLine(a,n,a-3-(o<0?1:0),n-3-(o<0?1:0),i+"Arw");u.style.width="0px",u.style.height="0px"},this.DrawDependencies=function(t){if(void 0===t&&(t=!1),1==this.getShowDeps()){this.CalcTaskXY(),this.clearDependencies();for(var e=this.getList(),a=0;a<e.length;a++){var n=e[a].getDepend(),s=e[a].getDepType(),i=n.length;if(0<i&&1==e[a].getVisible())for(var o=0;o<i;o++){var r=this.getArrayLocationByID(n[o]);if(0<=r&&2!=e[r].getGroup()&&1==e[r].getVisible()){t&&console.log("init drawDependency ",e[r].getID(),new Date);var l="gDepId"+e[r].getID();"SS"==s[o]?this.drawDependency(e[r].getStartX()-1,e[r].getStartY(),e[a].getStartX()-1,e[a].getStartY(),"SS",l+" gDepSS"):"FF"==s[o]?this.drawDependency(e[r].getEndX(),e[r].getEndY(),e[a].getEndX(),e[a].getEndY(),"FF",l+" gDepFF"):"SF"==s[o]?this.drawDependency(e[r].getStartX()-1,e[r].getStartY(),e[a].getEndX(),e[a].getEndY(),"SF",l+" gDepSF"):"FS"==s[o]&&this.drawDependency(e[r].getEndX(),e[r].getEndY(),e[a].getStartX()-1,e[a].getStartY(),"FS",l+" gDepFS")}}}}0<=this.vTodayPx&&this.sLine(this.vTodayPx,0,this.vTodayPx,this.getChartTable().offsetHeight-1,"gCurDate")},this.getArrayLocationByID=function(t){for(var e=this.getList(),a=0;a<e.length;a++)if(e[a].getID()==t)return a;return-1},this.newNode=function(t,e,a,n,s,i,o,r,l,d){var u=t.appendChild(document.createElement(e));if(d)for(var h=0;h+1<d.length;h+=2)u.setAttribute(d[h],d[h+1]);return a&&(u.id=a),n&&(u.className=n),i&&(u.style.width=isNaN(1*i)?i:i+"px"),o&&(u.style.left=isNaN(1*o)?o:o+"px"),s&&(s.indexOf&&-1===s.indexOf("<")?u.appendChild(document.createTextNode(s)):u.insertAdjacentHTML("beforeend",s)),r&&(u.style.display=r),l&&(u.colSpan=l),u},this.Draw=function(){var p=this;this.vEvents&&this.vEvents.beforeDraw&&this.vEvents.beforeDraw();var t,e=new Date,a=new Date,n=new Date,s=0,i=0,o=1,r=0,l=0,d=0,m=0,u=!1,f=0,h=null,g=0;if(this.vDebug&&(t=new Date,console.log("before draw",t)),0<this.vTaskList.length){this.vProcessNeeded&&st.processRows(this.vTaskList,0,-1,1,1,this.getUseSort(),this.vDebug),this.vProcessNeeded=!1,a=nt.getMinDate(this.vTaskList,this.vFormat),e=nt.getMaxDate(this.vTaskList,this.vFormat),"day"==this.vFormat?g=this.vDayColWidth:"week"==this.vFormat?g=this.vWeekColWidth:"month"==this.vFormat?g=this.vMonthColWidth:"quarter"==this.vFormat?g=this.vQuarterColWidth:"hour"==this.vFormat&&(g=this.vHourColWidth);var v=document.createDocumentFragment(),D=this.newNode(v,"div",this.vDivId+"glisthead","glistlbl gcontainercol");this.setListBody(D);var c=this.newNode(D,"table",null,"gtasktableh"),T=this.newNode(c,"tbody"),w=this.newNode(T,"tr");this.newNode(w,"td",null,"gtasklist"," ");var y=this.newNode(w,"td",null,"gspanning gtaskname");if(y.appendChild(this.drawSelector("top")),1==this.vShowRes&&this.newNode(w,"td",null,"gspanning gresource"," "),1==this.vShowDur&&this.newNode(w,"td",null,"gspanning gduration"," "),1==this.vShowComp&&this.newNode(w,"td",null,"gspanning gpccomplete"," "),1==this.vShowStartDate&&this.newNode(w,"td",null,"gspanning gstartdate"," "),1==this.vShowEndDate&&this.newNode(w,"td",null,"gspanning genddate"," "),1==this.vShowPlanStartDate&&this.newNode(w,"td",null,"gspanning gstartdate"," "),1==this.vShowPlanEndDate&&this.newNode(w,"td",null,"gspanning gplanenddate"," "),1==this.vShowCost&&this.newNode(w,"td",null,"gspanning gcost"," "),this.vAdditionalHeaders)for(var k in this.vAdditionalHeaders){var L=(F=this.vAdditionalHeaders[k]).class?F.class:"gadditional-"+k;this.newNode(w,"td",null,"gspanning gadditional "+L," ")}if(1==this.vShowAddEntries&&this.newNode(w,"td",null,"gspanning gaddentries"," "),w=this.newNode(T,"tr"),this.newNode(w,"td",null,"gtasklist"," "),this.newNode(w,"td",null,"gtaskname"," "),1==this.vShowRes&&this.newNode(w,"td",null,"gtaskheading gresource",this.vLangs[this.vLang].resource),1==this.vShowDur&&this.newNode(w,"td",null,"gtaskheading gduration",this.vLangs[this.vLang].duration),1==this.vShowComp&&this.newNode(w,"td",null,"gtaskheading gpccomplete",this.vLangs[this.vLang].comp),1==this.vShowStartDate&&this.newNode(w,"td",null,"gtaskheading gstartdate",this.vLangs[this.vLang].startdate),1==this.vShowEndDate&&this.newNode(w,"td",null,"gtaskheading genddate",this.vLangs[this.vLang].enddate),1==this.vShowPlanStartDate&&this.newNode(w,"td",null,"gtaskheading gplanstartdate",this.vLangs[this.vLang].planstartdate),1==this.vShowPlanEndDate&&this.newNode(w,"td",null,"gtaskheading gplanenddate",this.vLangs[this.vLang].planenddate),1==this.vShowCost&&this.newNode(w,"td",null,"gtaskheading gcost",this.vLangs[this.vLang].cost),this.vAdditionalHeaders)for(var k in this.vAdditionalHeaders){var S=(F=this.vAdditionalHeaders[k]).translate?this.vLangs[this.vLang][F.translate]:F.title;L=F.class?F.class:"gadditional-"+k;this.newNode(w,"td",null,"gtaskheading gadditional "+L,S)}1==this.vShowAddEntries&&this.newNode(w,"td",null,"gtaskheading gaddentries",this.vLangs[this.vLang].addentries);for(var M=void 0,b=function(t){var e=void 0;if(e=1==N.vTaskList[t].getGroup()?"ggroupitem":"glineitem",f=N.vTaskList[t].getID(),!N.vTaskList[t].getParItem()||2!=N.vTaskList[t].getParItem().getGroup()||2==N.vTaskList[t].getGroup()){w=0==N.vTaskList[t].getVisible()?N.newNode(T,"tr",N.vDivId+"child_"+f,"gname "+e,null,null,null,"none"):N.newNode(T,"tr",N.vDivId+"child_"+f,"gname "+e),N.vTaskList[t].setListChildRow(w),N.newNode(w,"td",null,"gtasklist"," "),y=N.newNode(w,"td",null,"gtaskname");for(var a="",n=1;n<N.vTaskList[t].getLevel();n++)a+="    ";var s=N.vTaskList[t],i=N.vEventClickRow;if(at.addListener("click",function(t){!1===t.target.classList.contains("gfoldercollapse")&&i&&"function"==typeof i&&i(s)},w),1==N.vTaskList[t].getGroup()){D=N.newNode(y,"div",null,null,a);var o=N.newNode(D,"span",N.vDivId+"group_"+f,"gfoldercollapse",1==N.vTaskList[t].getOpen()?"-":"+");N.vTaskList[t].setGroupSpan(o),at.addFolderListeners(N,o,f);var r=document.createElement("span");r.innerHTML=" "+N.vTaskList[t].getName(),D.appendChild(r);var l=function(t,e){return t.setName(e.target.value)};at.addListenerInputCell(y,N.vEventsChange,l,N.vTaskList[t],"taskname",N.Draw.bind(N)),at.addListenerClickCell(D,N.vEvents,N.vTaskList[t],"taskname")}else{a+="    ";var d=it(N.vTaskList[t].getName(),N.vEditable,"text");D=N.newNode(y,"div",null,null,a+d);l=function(t,e){return t.setName(e.target.value)};at.addListenerInputCell(y,N.vEventsChange,l,N.vTaskList[t],"taskname",N.Draw.bind(N)),at.addListenerClickCell(y,N.vEvents,N.vTaskList[t],"taskname")}if(1==N.vShowRes){y=N.newNode(w,"td",null,"gresource");d=it(N.vTaskList[t].getResource(),N.vEditable,"resource",N.vTaskList[t].getResource(),N.vResources);D=N.newNode(y,"div",null,null,d);l=function(t,e){return t.setResource(e.target.value)};at.addListenerInputCell(y,N.vEventsChange,l,N.vTaskList[t],"res",N.Draw.bind(N),"change"),at.addListenerClickCell(y,N.vEvents,N.vTaskList[t],"res")}if(1==N.vShowDur){y=N.newNode(w,"td",null,"gduration");d=it(N.vTaskList[t].getDuration(N.vFormat,N.vLangs[N.vLang]),N.vEditable,"text",N.vTaskList[t].getDuration());D=N.newNode(y,"div",null,null,d);l=function(t,e){return t.setDuration(e.target.value)};at.addListenerInputCell(y,N.vEventsChange,l,N.vTaskList[t],"dur",N.Draw.bind(N)),at.addListenerClickCell(y,N.vEvents,N.vTaskList[t],"dur")}if(1==N.vShowComp){y=N.newNode(w,"td",null,"gpccomplete");d=it(N.vTaskList[t].getCompStr(),N.vEditable,"percentage",N.vTaskList[t].getCompVal());D=N.newNode(y,"div",null,null,d);l=function(t,e){t.setComp(e.target.value),t.setCompVal(e.target.value)};at.addListenerInputCell(y,N.vEventsChange,l,N.vTaskList[t],"comp",N.Draw.bind(N)),at.addListenerClickCell(y,N.vEvents,N.vTaskList[t],"comp")}if(1==N.vShowStartDate){y=N.newNode(w,"td",null,"gstartdate");var u=nt.formatDateStr(N.vTaskList[t].getStart(),N.vDateTaskTableDisplayFormat,N.vLangs[N.vLang]);d=it(u,N.vEditable,"date",N.vTaskList[t].getStart());D=N.newNode(y,"div",null,null,d);l=function(t,e){return t.setStart(e.target.value)};at.addListenerInputCell(y,N.vEventsChange,l,N.vTaskList[t],"start",N.Draw.bind(N)),at.addListenerClickCell(y,N.vEvents,N.vTaskList[t],"start")}if(1==N.vShowEndDate){y=N.newNode(w,"td",null,"genddate");u=nt.formatDateStr(N.vTaskList[t].getEnd(),N.vDateTaskTableDisplayFormat,N.vLangs[N.vLang]),d=it(u,N.vEditable,"date",N.vTaskList[t].getEnd());D=N.newNode(y,"div",null,null,d);l=function(t,e){return t.setEnd(e.target.value)};at.addListenerInputCell(y,N.vEventsChange,l,N.vTaskList[t],"end",N.Draw.bind(N)),at.addListenerClickCell(y,N.vEvents,N.vTaskList[t],"end")}if(1==N.vShowPlanStartDate){y=N.newNode(w,"td",null,"gplanstartdate");u=N.vTaskList[t].getPlanStart()?nt.formatDateStr(N.vTaskList[t].getPlanStart(),N.vDateTaskTableDisplayFormat,N.vLangs[N.vLang]):"",d=it(u,N.vEditable,"date",N.vTaskList[t].getPlanStart());D=N.newNode(y,"div",null,null,d);l=function(t,e){return t.setPlanStart(e.target.value)};at.addListenerInputCell(y,N.vEventsChange,l,N.vTaskList[t],"planstart",N.Draw.bind(N)),at.addListenerClickCell(y,N.vEvents,N.vTaskList[t],"planstart")}if(1==N.vShowPlanEndDate){y=N.newNode(w,"td",null,"gplanenddate");u=N.vTaskList[t].getPlanEnd()?nt.formatDateStr(N.vTaskList[t].getPlanEnd(),N.vDateTaskTableDisplayFormat,N.vLangs[N.vLang]):"",d=it(u,N.vEditable,"date",N.vTaskList[t].getPlanEnd());D=N.newNode(y,"div",null,null,d);l=function(t,e){return t.setPlanEnd(e.target.value)};at.addListenerInputCell(y,N.vEventsChange,l,N.vTaskList[t],"planend",N.Draw.bind(N)),at.addListenerClickCell(y,N.vEvents,N.vTaskList[t],"planend")}if(1==N.vShowCost){y=N.newNode(w,"td",null,"gcost");d=it(N.vTaskList[t].getCost(),N.vEditable,"cost");D=N.newNode(y,"div",null,null,d);l=function(t,e){return t.setCost(e.target.value)};at.addListenerInputCell(y,N.vEventsChange,l,N.vTaskList[t],"cost",N.Draw.bind(N)),at.addListenerClickCell(y,N.vEvents,N.vTaskList[t],"cost")}if(N.vAdditionalHeaders)for(var h in N.vAdditionalHeaders){var g=N.vAdditionalHeaders[h],v=g.class?g.class:"gadditional-"+h,c=N.vTaskList[t].getDataObject();c&&(y=N.newNode(w,"td",null,"gadditional "+v)),D=N.newNode(y,"div",null,null,c?c[h]:"")}if(1==N.vShowAddEntries){y=N.newNode(w,"td",null,"gaddentries");D=N.newNode(y,"div",null,null,"<button>+</button>");l=function(t,e){console.log("hello"),p.vTaskList.push({})};at.addListenerInputCell(y,N.vEventsChange,l,N.vTaskList[t],"addentries",N.Draw.bind(N)),at.addListenerClickCell(y,N.vEvents,N.vTaskList[t],"addentries")}m++}},N=this,C=0;C<this.vTaskList.length;C++)b(C);if(w=this.newNode(T,"tr"),this.newNode(w,"td",null,"gtasklist"," "),(y=this.newNode(w,"td",null,"gspanning gtaskname")).appendChild(this.drawSelector("bottom")),1==this.vShowRes&&this.newNode(w,"td",null,"gspanning gresource"," "),1==this.vShowDur&&this.newNode(w,"td",null,"gspanning gduration"," "),1==this.vShowComp&&this.newNode(w,"td",null,"gspanning gpccomplete"," "),1==this.vShowStartDate&&this.newNode(w,"td",null,"gspanning gstartdate"," "),1==this.vShowEndDate&&this.newNode(w,"td",null,"gspanning genddate"," "),1==this.vShowPlanStartDate&&this.newNode(w,"td",null,"gspanning gplanstartdate"," "),1==this.vShowPlanEndDate&&this.newNode(w,"td",null,"gspanning gplanenddate"," "),1==this.vShowCost&&this.newNode(w,"td",null,"gspanning gcost"," "),this.vAdditionalHeaders)for(var k in this.vAdditionalHeaders){var F;L=(F=this.vAdditionalHeaders[k]).class?F.class:"gadditional-"+k;this.newNode(w,"td",null,"gspanning gadditional "+L," ")}1==this.vShowAddEntries&&this.newNode(w,"td",null,"gspanning gaddentries"," ");var I=document.createDocumentFragment();D=this.newNode(I,"div",this.vDivId+"gcharthead","gchartlbl gcontainercol"),this.setChartHead(D),c=this.newNode(D,"table",this.vDivId+"chartTableh","gcharttableh"),T=this.newNode(c,"tbody"),w=this.newNode(T,"tr"),n.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),"hour"==this.vFormat?n.setHours(a.getHours()):n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0);for(var E=1;n.getTime()<=e.getTime();){var j="gmajorheading",H="";"day"==this.vFormat?(y=this.newNode(w,"td",null,j,null,null,null,null,7),H+=nt.formatDateStr(n,this.vDayMajorDateDisplayFormat,this.vLangs[this.vLang]),n.setDate(n.getDate()+6),1==this.vShowEndWeekDate&&(H+=" - "+nt.formatDateStr(n,this.vDayMajorDateDisplayFormat,this.vLangs[this.vLang])),this.newNode(y,"div",null,null,H,7*g),n.setDate(n.getDate()+1)):"week"==this.vFormat?(y=this.newNode(w,"td",null,j,null,g),this.newNode(y,"div",null,null,nt.formatDateStr(n,this.vWeekMajorDateDisplayFormat,this.vLangs[this.vLang]),g),n.setDate(n.getDate()+7)):"month"==this.vFormat?(E=12-n.getMonth(),n.getFullYear()==e.getFullYear()&&(E-=11-e.getMonth()),y=this.newNode(w,"td",null,j,null,null,null,null,E),this.newNode(y,"div",null,null,nt.formatDateStr(n,this.vMonthMajorDateDisplayFormat,this.vLangs[this.vLang]),g*E),n.setFullYear(n.getFullYear()+1,0,1)):"quarter"==this.vFormat?(E=4-Math.floor(n.getMonth()/3),n.getFullYear()==e.getFullYear()&&(E-=3-Math.floor(e.getMonth()/3)),y=this.newNode(w,"td",null,j,null,null,null,null,E),this.newNode(y,"div",null,null,nt.formatDateStr(n,this.vQuarterMajorDateDisplayFormat,this.vLangs[this.vLang]),g*E),n.setFullYear(n.getFullYear()+1,0,1)):"hour"==this.vFormat&&(E=24-n.getHours(),n.getFullYear()==e.getFullYear()&&n.getMonth()==e.getMonth()&&n.getDate()==e.getDate()&&(E-=23-e.getHours()),y=this.newNode(w,"td",null,j,null,null,null,null,E),this.newNode(y,"div",null,null,nt.formatDateStr(n,this.vHourMajorDateDisplayFormat,this.vLangs[this.vLang]),g*E),n.setHours(0),n.setDate(n.getDate()+1))}for(w=this.newNode(T,"tr"),n.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),"hour"==this.vFormat&&n.setHours(a.getHours()),d=0;n.getTime()<=e.getTime();){j="gminorheading";if("day"==this.vFormat)n.getDay()%6==0&&(j+="wkend"),n<=e&&(y=this.newNode(w,"td",null,j),this.newNode(y,"div",null,null,nt.formatDateStr(n,this.vDayMinorDateDisplayFormat,this.vLangs[this.vLang]),g),d++),n.setDate(n.getDate()+1);else if("week"==this.vFormat)n<=e&&(y=this.newNode(w,"td",null,j),this.newNode(y,"div",null,null,nt.formatDateStr(n,this.vWeekMinorDateDisplayFormat,this.vLangs[this.vLang]),g),d++),n.setDate(n.getDate()+7);else if("month"==this.vFormat)for(n<=e&&(y=this.newNode(w,"td",null,j),this.newNode(y,"div",null,null,nt.formatDateStr(n,this.vMonthMinorDateDisplayFormat,this.vLangs[this.vLang]),g),d++),n.setDate(n.getDate()+1);1<n.getDate();)n.setDate(n.getDate()+1);else if("quarter"==this.vFormat)for(n<=e&&(y=this.newNode(w,"td",null,j),this.newNode(y,"div",null,null,nt.formatDateStr(n,this.vQuarterMinorDateDisplayFormat,this.vLangs[this.vLang]),g),d++),n.setDate(n.getDate()+81);1<n.getDate();)n.setDate(n.getDate()+1);else if("hour"==this.vFormat){for(var P=n.getHours();P<24;P++)n.setHours(P),n<=e&&(y=this.newNode(w,"td",null,j),this.newNode(y,"div",null,null,nt.formatDateStr(n,this.vHourMinorDateDisplayFormat,this.vLangs[this.vLang]),g),d++);n.setHours(0),n.setDate(n.getDate()+1)}}h=w,s=d*(g+3)+1,"day"===this.vFormat&&(s+=2),c.style.width=s+"px",r=d*(g+3)+1,0!=this.vUseSingleCell&&this.vUseSingleCell<d*m&&(u=!0),this.newNode(D,"div",null,"rhscrpad",null,null,s+1),D=this.newNode(I,"div",null,"glabelfooter");var x=document.createDocumentFragment();D=this.newNode(x,"div",this.vDivId+"gchartbody","gchartgrid gcontainercol"),this.setChartBody(D),c=this.newNode(D,"table",this.vDivId+"chartTable","gcharttable",null,s),this.setChartTable(c),this.newNode(D,"div",null,"rhscrpad",null,null,s+1),T=this.newNode(c,"tbody");var A,O=0,G=0;for(this.vDebug&&(A=new Date,console.log("before tasks loop",A)),O=0;O<this.vTaskList.length;O++){var R=this.vTaskList[O].getStart()?this.vTaskList[O].getStart():this.vTaskList[O].getPlanStart(),J=this.vTaskList[O].getEnd()?this.vTaskList[O].getEnd():this.vTaskList[O].getPlanEnd();(J.getTime()-6e4*J.getTimezoneOffset())%864e5==0&&(J=new Date(J.getFullYear(),J.getMonth(),J.getDate()+1,J.getHours(),J.getMinutes(),J.getSeconds())),s=nt.getOffset(a,R,g,this.vFormat),i=nt.getOffset(R,J,g,this.vFormat);var X,q=void 0;X=this.vTaskList[O].getPlanStart(),q=this.vTaskList[O].getPlanEnd(),X&&q?((q.getTime()-6e4*q.getTimezoneOffset())%864e5==0&&(q=new Date(q.getFullYear(),q.getMonth(),q.getDate()+1,q.getHours(),q.getMinutes(),q.getSeconds())),r=nt.getOffset(a,X,g,this.vFormat),l=nt.getOffset(X,q,g,this.vFormat)):r=l=0,f=this.vTaskList[O].getID();var W=this.vTaskList[O].getParItem()&&2==this.vTaskList[O].getParItem().getGroup(),V="",Y=this.vTaskList[O],U=null;if(this.vTaskList[O].getMile()&&!W){if(w=this.newNode(T,"tr",this.vDivId+"childrow_"+f,"gmileitem gmile"+this.vFormat,null,null,null,0==this.vTaskList[O].getVisible()?"none":null),this.vTaskList[O].setChildRow(w),at.addThisRowListeners(this,this.vTaskList[O].getListChildRow(),w),y=this.newNode(w,"td",null,"gtaskcell"),D=this.newNode(y,"div",null,"gtaskcelldiv","  "),D=this.newNode(D,"div",this.vDivId+"bardiv_"+f,"gtaskbarcontainer",null,12,s+i-6),this.vTaskList[O].setBarDiv(D),M=this.newNode(D,"div",this.vDivId+"taskbar_"+f,this.vTaskList[O].getClass(),null,12),this.vTaskList[O].setTaskDiv(M),this.vTaskList[O].getCompVal()<100?M.appendChild(document.createTextNode("◊")):(M=this.newNode(M,"div",null,"gmilediamond"),this.newNode(M,"div",null,"gmdtop"),this.newNode(M,"div",null,"gmdbottom")),U="gmilecaption",!u&&!W)for(V="",G=0;G<d-1;G++)V="day"!=this.vFormat||G%7!=4&&G%7!=5?"gtaskcell":"gtaskcellwkend",this.newNode(w,"td",null,V,"  ")}else if(o=i,this.vTaskList[O].getGroup()){if(o=(o=o>this.vMinGpLen&&o<2*this.vMinGpLen?2*this.vMinGpLen:o)<this.vMinGpLen?this.vMinGpLen:o,w=this.newNode(T,"tr",this.vDivId+"childrow_"+f,(2==this.vTaskList[O].getGroup()?"glineitem gitem":"ggroupitem ggroup")+this.vFormat,null,null,null,0==this.vTaskList[O].getVisible()?"none":null),this.vTaskList[O].setChildRow(w),at.addThisRowListeners(this,this.vTaskList[O].getListChildRow(),w),y=this.newNode(w,"td",null,"gtaskcell"),D=this.newNode(y,"div",null,"gtaskcelldiv","  "),this.vTaskList[O].setCellDiv(D),1==this.vTaskList[O].getGroup()&&(D=this.newNode(D,"div",this.vDivId+"bardiv_"+f,"gtaskbarcontainer",null,o,s),this.vTaskList[O].setBarDiv(D),M=this.newNode(D,"div",this.vDivId+"taskbar_"+f,this.vTaskList[O].getClass(),null,o),this.vTaskList[O].setTaskDiv(M),this.newNode(M,"div",this.vDivId+"complete_"+f,this.vTaskList[O].getClass()+"complete",null,this.vTaskList[O].getCompStr()),this.newNode(D,"div",null,this.vTaskList[O].getClass()+"endpointleft"),o>=2*this.vMinGpLen&&this.newNode(D,"div",null,this.vTaskList[O].getClass()+"endpointright"),U="ggroupcaption"),!u&&!W)for(V="",G=0;G<d-1;G++)V="day"!=this.vFormat||G%7!=4&&G%7!=5?"gtaskcell":"gtaskcellwkend",this.newNode(w,"td",null,V,"  ")}else{o=o<=0?1:o;var B=void 0;if(B=D=W?this.vTaskList[O].getParItem().getCellDiv():(w=this.newNode(T,"tr",this.vDivId+"childrow_"+f,"glineitem gitem"+this.vFormat,null,null,null,0==this.vTaskList[O].getVisible()?"none":null),this.vTaskList[O].setChildRow(w),at.addThisRowListeners(this,this.vTaskList[O].getListChildRow(),w),y=this.newNode(w,"td",null,"gtaskcell"),this.newNode(y,"div",null,"gtaskcelldiv","  ")),D=this.newNode(D,"div",this.vDivId+"bardiv_"+f,"gtaskbarcontainer",null,o,s),this.vTaskList[O].setBarDiv(D),M=this.newNode(D,"div",this.vDivId+"taskbar_"+f,this.vTaskList[O].getClass(),null,o),this.vTaskList[O].setTaskDiv(M),r&&r!=s){var _=this.newNode(B,"div",this.vDivId+"bardiv_"+f,"gtaskbarcontainer gplan",null,l,r);this.newNode(_,"div",this.vDivId+"taskbar_"+f,this.vTaskList[O].getClass()+" gplan",null,l)}if(this.newNode(M,"div",this.vDivId+"complete_"+f,this.vTaskList[O].getClass()+"complete",null,this.vTaskList[O].getCompStr()),W&&(Y=this.vTaskList[O].getParItem()),(!W||W&&this.vTaskList[O].getParItem().getEnd()==this.vTaskList[O].getEnd())&&(U="gcaption"),!u&&!W)for(V="",G=0;G<d-1;G++)V="day"!=this.vFormat||G%7!=4&&G%7!=5?"gtaskcell":"gtaskcellwkend",this.newNode(w,"td",null,V,"  ")}if(this.getCaptionType()&&null!==U){var Q=void 0;switch(this.getCaptionType()){case"Caption":Q=Y.getCaption();break;case"Resource":Q=Y.getResource();break;case"Duration":Q=Y.getDuration(this.vFormat,this.vLangs[this.vLang]);break;case"Complete":Q=Y.getCompStr()}this.newNode(D,"div",null,U,Q,120,"gmilecaption"==U?12:0)}this.vTaskList[O].getTaskDiv()&&D&&((M=this.newNode(D,"div",this.vDivId+"tt"+f,null,null,null,null,"none")).appendChild(this.createTaskInfo(this.vTaskList[O],this.vTooltipTemplate)),at.addTooltipListeners(this,this.vTaskList[O].getTaskDiv(),M))}if(this.vDebug){var z=new Date;console.log("after tasks loop",z,z.getTime()-A.getTime())}for(u?"day"==this.vFormat&&T.appendChild(w.cloneNode(!0)):T.appendChild(h.cloneNode(!0));this.vDiv.hasChildNodes();)this.vDiv.removeChild(this.vDiv.firstChild);D=this.newNode(this.vDiv,"div",null,"gchartcontainer");var K=this.newNode(D,"div",null,"gmain gmainleft");K.appendChild(v);var Z=this.newNode(D,"div",null,"gmain gmainright");if(Z.appendChild(I),Z.appendChild(x),D.appendChild(K),D.appendChild(Z),this.newNode(D,"div",null,"ggridfooter"),(M=this.newNode(this.getChartBody(),"div",this.vDivId+"Lines","glinediv")).style.visibility="hidden",this.setLines(M),at.addScrollListeners(this),""!=this.vScrollTo){var $=new Date(a.getTime()),tt=0;tt="px"==this.vScrollTo.substr(0,2)?parseInt(this.vScrollTo.substr(2)):($=nt.parseDateStr(this.vScrollTo,this.getDateInputFormat()),"hour"==this.vFormat?$.setMinutes(0,0,0):$.setHours(0,0,0,0),nt.getOffset(a,$,g,this.vFormat)),this.getChartBody().scrollLeft=tt}a.getTime()<=(new Date).getTime()&&e.getTime()>=(new Date).getTime()?this.vTodayPx=nt.getOffset(a,new Date,g,this.vFormat):this.vTodayPx=-1;var et=void 0;if(this.vDebug&&(et=new Date,console.log("before DrawDependencies",et)),this.DrawDependencies(this.vDebug),at.addListenerDependencies(),this.vDebug){z=new Date;console.log("after DrawDependencies",z,z.getTime()-et.getTime())}}if(this.vDebug){z=new Date;console.log("after draw",z,z.getTime()-t.getTime())}this.vEvents&&this.vEvents.afterDraw&&this.vEvents.afterDraw()},this.drawSelector=function(t){for(var e=document.createDocumentFragment(),a=!1,n=0;n<this.vShowSelector.length&&!a;n++)this.vShowSelector[n].toLowerCase()==t.toLowerCase()&&(a=!0);if(a){var s=this.newNode(e,"div",null,"gselector",this.vLangs[this.vLang].format+":");-1!=this.vFormatArr.join().toLowerCase().indexOf("hour")&&at.addFormatListeners(this,"hour",this.newNode(s,"span",this.vDivId+"formathour"+t,"gformlabel"+("hour"==this.vFormat?" gselected":""),this.vLangs[this.vLang].hour)),-1!=this.vFormatArr.join().toLowerCase().indexOf("day")&&at.addFormatListeners(this,"day",this.newNode(s,"span",this.vDivId+"formatday"+t,"gformlabel"+("day"==this.vFormat?" gselected":""),this.vLangs[this.vLang].day)),-1!=this.vFormatArr.join().toLowerCase().indexOf("week")&&at.addFormatListeners(this,"week",this.newNode(s,"span",this.vDivId+"formatweek"+t,"gformlabel"+("week"==this.vFormat?" gselected":""),this.vLangs[this.vLang].week)),-1!=this.vFormatArr.join().toLowerCase().indexOf("month")&&at.addFormatListeners(this,"month",this.newNode(s,"span",this.vDivId+"formatmonth"+t,"gformlabel"+("month"==this.vFormat?" gselected":""),this.vLangs[this.vLang].month)),-1!=this.vFormatArr.join().toLowerCase().indexOf("quarter")&&at.addFormatListeners(this,"quarter",this.newNode(s,"span",this.vDivId+"formatquarter"+t,"gformlabel"+("quarter"==this.vFormat?" gselected":""),this.vLangs[this.vLang].quarter))}else this.newNode(e,"div",null,"gselector");return e},this.vDiv&&"div"==this.vDiv.nodeName.toLowerCase()&&(this.vDivId=this.vDiv.id)};var it=function(t,e,a,n,s){if(void 0===a&&(a="text"),void 0===n&&(n=null),void 0===s&&(s=null),n=n||t,!e)return t;switch(a){case"date":return'<input class="gantt-inputtable" type="date" value="'+(n=n?new Date(n.getTime()-6e4*n.getTimezoneOffset()).toISOString().split("T")[0]:"")+'">';case"resource":if(s){var i=s.find(function(t){return t.id==n||t.name==n});return i?n=i.id:s.push({id:n,name:n}),"<select>"+s.map(function(t){return'<option value="'+t.id+'" '+(n==t.id?"selected":"")+" >"+t.name+"</option>"}).join("")+"</select>"}return'<input class="gantt-inputtable" type="text" value="'+(n||"")+'">';case"cost":return'<input class="gantt-inputtable" type="number" max="100" min="0" value="'+(n||"")+'">';default:return'<input class="gantt-inputtable" value="'+(n||"")+'">'}};a.updateFlyingObj=function(t,e,a){var n=t?t.clientX:window.event.clientX,s=t?t.clientY:window.event.clientY,i=document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth,o=document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,r=n,l=s;if("microsoft internet explorer"==navigator.appName.toLowerCase()){n-=document.documentElement.clientLeft,s-=document.documentElement.clientTop;var d=nt.getZoomFactor();1!=d&&(n=Math.round(n/d),s=Math.round(s/d))}var u=nt.getScrollPositions();r=n-5-e.vTool.offsetWidth<0?n+15+e.vTool.offsetWidth>i?u.x:n+u.x+15:n+u.x-5-e.vTool.offsetWidth,l=s+3+e.vTool.offsetHeight>o?s-3-e.vTool.offsetHeight<0?u.y:s+u.y-3-e.vTool.offsetHeight:s+u.y+3,e.getUseMove()?(clearInterval(e.vTool.moveInterval),e.vTool.moveInterval=setInterval(function(){at.moveToolTip(r,l,e.vTool,a)},a)):(e.vTool.style.left=r+"px",e.vTool.style.top=l+"px")}},{"./events":3,"./lang":6,"./options":7,"./task":8,"./utils":9,"./xml":10}],3:[function(t,e,l){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var r=t("./utils"),n=t("./task"),d=t("./draw");l.mouseOver=function(t,e){this.getUseRowHlt()&&(t.className+=" gitemhighlight",e.className+=" gitemhighlight")},l.mouseOut=function(t,e){this.getUseRowHlt()&&(t.className=t.className.replace(/(?:^|\s)gitemhighlight(?!\S)/g,""),e.className=e.className.replace(/(?:^|\s)gitemhighlight(?!\S)/g,""))},l.showToolTip=function(t,e,a,n,s){var i=t.getDivId()+"JSGanttToolTip",o=a.id;t.getUseToolTip()&&(null==t.vTool&&(t.vTool=document.createElement("div"),t.vTool.id=i,t.vTool.className="JSGanttToolTip",t.vTool.vToolCont=document.createElement("div"),t.vTool.vToolCont.id=i+"cont",t.vTool.vToolCont.className="JSGanttToolTipcont",t.vTool.vToolCont.setAttribute("showing",""),t.vTool.appendChild(t.vTool.vToolCont),document.body.appendChild(t.vTool),t.vTool.style.opacity=0,t.vTool.setAttribute("currentOpacity",0),t.vTool.setAttribute("fadeIncrement",10),t.vTool.setAttribute("moveSpeed",10),t.vTool.style.filter="alpha(opacity=0)",t.vTool.style.visibility="hidden",t.vTool.style.left=Math.floor((e?e.clientX:window.event.clientX)/2)+"px",t.vTool.style.top=Math.floor((e?e.clientY:window.event.clientY)/2)+"px",this.addListener("mouseover",function(){clearTimeout(t.vTool.delayTimeout)},t.vTool),this.addListener("mouseout",function(){r.delayedHide(t,t.vTool,s)},t.vTool)),clearTimeout(t.vTool.delayTimeout),t.vTool.vToolCont.getAttribute("showing")==o&&"visible"==t.vTool.style.visibility||(t.vTool.vToolCont.getAttribute("showing")!=o&&(t.vTool.vToolCont.setAttribute("showing",o),t.vTool.vToolCont.innerHTML=a.innerHTML,r.stripIds(t.vTool.vToolCont)),t.vTool.style.visibility="visible",d.updateFlyingObj(e,t,s),t.vTool.style.width=n?n+"px":"auto",!n&&r.isIE()&&(t.vTool.style.width=t.vTool.offsetWidth),500<t.vTool.offsetWidth&&(t.vTool.style.width="500px")),t.getUseFade()?(clearInterval(t.vTool.fadeInterval),t.vTool.fadeInterval=setInterval(function(){r.fadeToolTip(1,t.vTool,100)},s)):(t.vTool.style.opacity=1,t.vTool.style.filter="alpha(opacity=100)"))},l.moveToolTip=function(t,e,a,n){var s=parseInt(a.getAttribute("moveSpeed")),i=parseInt(a.style.left),o=parseInt(a.style.top);"visible"!=a.style.visibility?(a.style.left=t+"px",a.style.top=e+"px",clearInterval(a.moveInterval)):t!=i&&e!=o?(i+=Math.ceil((t-i)/s),o+=Math.ceil((e-o)/s),a.style.left=i+"px",a.style.top=o+"px"):clearInterval(a.moveInterval)},l.addListener=function(t,e,a){return a===String(a)&&(a=r.findObj(a)),a.addEventListener?a.addEventListener(t,e,!1):!!a.attachEvent&&a.attachEvent("on"+t,e)},l.addTooltipListeners=function(e,t,a){l.addListener("mouseover",function(t){l.showToolTip(e,t,a,null,e.getTimer())},t),l.addListener("mouseout",function(t){r.delayedHide(e,e.vTool,e.getTimer())},t)},l.addThisRowListeners=function(t,e,a){l.addListener("mouseover",function(){t.mouseOver(e,a)},e),l.addListener("mouseover",function(){t.mouseOver(e,a)},a),l.addListener("mouseout",function(){t.mouseOut(e,a)},e),l.addListener("mouseout",function(){t.mouseOut(e,a)},a)},l.addFolderListeners=function(t,e,a){l.addListener("click",function(){n.folder(a,t)},e)},l.addFormatListeners=function(t,e,a){l.addListener("click",function(){r.changeFormat(e,t)},a)},l.addScrollListeners=function(t){l.addListener("resize",function(){t.getChartHead().scrollLeft=t.getChartBody().scrollLeft},window),l.addListener("resize",function(){t.getListBody().scrollTop=t.getChartBody().scrollTop},window)},l.addListenerClickCell=function(e,a,n,s){l.addListener("click",function(t){!1===t.target.classList.contains("gfoldercollapse")&&a[s]&&"function"==typeof a[s]&&a[s](n,t,e)},e)},l.addListenerInputCell=function(a,n,s,i,o,r,t){void 0===r&&(r=null),void 0===t&&(t="blur"),a.children[0]&&a.children[0].children&&a.children[0].children[0]&&(["SELECT","INPUT","BUTTON"].find(function(t){return t===a.children[0].children[0].tagName})&&l.addListener(t,function(t){if(s&&s(i,t),n[o]&&"function"==typeof n[o]){var e=n[o](i,t,a,u[o]);e&&e.then?e.then(function(t){return r()}):r()}else r()},a.children[0].children[0]))},l.addListenerDependencies=function(){for(var t=document.querySelectorAll(".gtaskbarcontainer"),e=0;e<t.length;e++){var a=t[e];a.addEventListener("mouseover",function(t){s(t)}),a.addEventListener("mouseout",function(t){s(t)})}};var s=function(t){var e=t.currentTarget.getAttribute("id").split("_"),a="groove";"mouseout"===t.type&&(a=""),1<e.length&&Array.from(document.querySelectorAll(".gDepId"+e[1])).forEach(function(t){t.style.borderStyle=a})},u={taskname:"pName",res:"pRes",dur:"",comp:"pComp",start:"pStart",end:"pEnd",planstart:"pPlanStart",planend:"pPlanEnd",link:"pLink",cost:"pCost",mile:"pMile",group:"pGroup",parent:"pParent",open:"pOpen",depend:"pDepend",caption:"pCaption",note:"pNotes"}},{"./draw":2,"./task":8,"./utils":9}],4:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("./events"),s=t("./utils"),i=t("./xml"),o=t("./task"),r=t("./draw"),l=t("./json");a.JSGantt||(a.JSGantt={}),a.JSGantt.isIE=s.isIE,a.JSGantt.TaskItem=o.TaskItem,a.JSGantt.GanttChart=r.GanttChart,a.JSGantt.updateFlyingObj=r.updateFlyingObj,a.JSGantt.showToolTip=n.showToolTip,a.JSGantt.stripIds=s.stripIds,a.JSGantt.stripUnwanted=s.stripUnwanted,a.JSGantt.delayedHide=s.delayedHide,a.JSGantt.hideToolTip=s.hideToolTip,a.JSGantt.fadeToolTip=s.fadeToolTip,a.JSGantt.moveToolTip=n.moveToolTip,a.JSGantt.getZoomFactor=s.getZoomFactor,a.JSGantt.getOffset=s.getOffset,a.JSGantt.getScrollPositions=s.getScrollPositions,a.JSGantt.processRows=o.processRows,a.JSGantt.sortTasks=o.sortTasks,a.JSGantt.getMinDate=s.getMinDate,a.JSGantt.getMaxDate=s.getMaxDate,a.JSGantt.findObj=s.findObj,a.JSGantt.changeFormat=s.changeFormat,a.JSGantt.folder=o.folder,a.JSGantt.hide=o.hide,a.JSGantt.show=o.show,a.JSGantt.taskLink=o.taskLink,a.JSGantt.parseDateStr=s.parseDateStr,a.JSGantt.formatDateStr=s.formatDateStr,a.JSGantt.parseDateFormatStr=s.parseDateFormatStr,a.JSGantt.parseXML=i.parseXML,a.JSGantt.parseXMLString=i.parseXMLString,a.JSGantt.findXMLNode=i.findXMLNode,a.JSGantt.getXMLNodeValue=i.getXMLNodeValue,a.JSGantt.AddXMLTask=i.AddXMLTask,a.JSGantt.parseJSON=l.parseJSON,a.JSGantt.parseJSONString=l.parseJSONString,a.JSGantt.addJSONTask=l.addJSONTask,a.JSGantt.benchMark=s.benchMark,a.JSGantt.getIsoWeek=s.getIsoWeek,a.JSGantt.addListener=n.addListener,a.JSGantt.addTooltipListeners=n.addTooltipListeners,a.JSGantt.addThisRowListeners=n.addThisRowListeners,a.JSGantt.addFolderListeners=n.addFolderListeners,a.JSGantt.addFormatListeners=n.addFormatListeners,a.JSGantt.addScrollListeners=n.addScrollListeners,a.JSGantt.criticalPath=s.criticalPath},{"./draw":2,"./events":3,"./json":5,"./task":8,"./utils":9,"./xml":10}],5:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var task_1=require("./task");exports.parseJSON=function(t,e,a){var n,s;void 0===a&&(a=!1),(n=window.XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP")).open("GET",t,!1),n.send(null),a&&(s=new Date,console.log("before jsonparse",s));var i=JSON.parse(n.response);if(a){var o=new Date;console.log("after jsonparse",o,o.getTime()-s.getTime()),s=new Date}if(exports.addJSONTask(e,i),this.vDebug){o=new Date;console.log("after addJSONTask",o,o.getTime()-s.getTime())}return i},exports.parseJSONString=function(pStr,pGanttVar){exports.addJSONTask(pGanttVar,eval("("+pStr+")"))},exports.addJSONTask=function(t,e){if("[object Array]"==={}.toString.call(e))for(var a=0;a<e.length;a++){var n=void 0,s=void 0,i=void 0,o=void 0,r=void 0,l=void 0,d=void 0,u="",h=0,g="",v=void 0,c=0,p=void 0,m=void 0,f="",D="",T="",w=void 0,y="",k={};for(var L in e[a]){var S=L,M=e[a][S];switch(S.toLowerCase()){case"pid":case"id":n=M;break;case"pname":case"name":s=M;break;case"pstart":case"start":i=M;break;case"pend":case"end":o=M;break;case"pplanstart":case"planstart":r=M;break;case"pplanend":case"planend":l=M;break;case"pclass":case"class":d=M;break;case"plink":case"link":u=M;break;case"pmile":case"mile":h=M;break;case"pres":case"res":g=M;break;case"pcomp":case"comp":v=M;break;case"pgroup":case"group":c=M;break;case"pparent":case"parent":p=M;break;case"popen":case"open":m=M;break;case"pdepend":case"depend":f=M;break;case"pcaption":case"caption":D=M;break;case"pnotes":case"notes":T=M;break;case"pcost":case"cost":w=M;break;case"duration":case"pduration":y=M;break;default:k[S.toLowerCase()]=M}}t.AddTaskItem(new task_1.TaskItem(n,s,i,o,d,u,h,g,v,c,p,m,f,D,T,t,w,r,l,y,k))}}},{"./task":8}],6:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.es={january:"Enero",february:"Febrero",march:"Marzo",april:"Abril",maylong:"Mayo",june:"Junio",july:"Julio",august:"Agosto",september:"Septiembre",october:"Octubre",november:"Noviembre",december:"Diciembre",jan:"Ene",feb:"Feb",mar:"Mar",apr:"Abr",may:"May",jun:"Jun",jul:"Jul",aug:"Ago",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dic",sunday:"Domingo",monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sun:"\tDom",mon:"\tLun",tue:"\tMar",wed:"\tMie",thu:"\tJue",fri:"\tVie",sat:"\tSab",resource:"Recurso",duration:"Duración",comp:"% Completado",completion:"Terminado",startdate:"Inicio",planstartdate:"Inicio Plan",cost:"Custo",enddate:"Fin",planenddate:"Plan Fin",moreinfo:"+información",notes:"Notas",format:"Formato",hour:"Hora",day:"Dia",week:"Semana",month:"Mes",quarter:"Trimestre",hours:"Horas",days:"Días",weeks:"Semanas",months:"Meses",quarters:"Trimestres",hr:"Hr",dy:"D",wk:"Sem",mth:"Mes",qtr:"Trim",hrs:"Hrs",dys:"Dias",wks:"Sems",mths:"Meses",qtrs:"Trims"};a.en={format:"Format",hour:"Hour",day:"Day",week:"Week",month:"Month",quarter:"Quarter",hours:"Hours",days:"Days",weeks:"Weeks",months:"Months",quarters:"Quarters",hr:"Hr",dy:"Day",wk:"Wk",mth:"Mth",qtr:"Qtr",hrs:"Hrs",dys:"Days",wks:"Wks",mths:"Mths",qtrs:"Qtrs",resource:"Resource",duration:"Duration",comp:"% Comp.",completion:"Completion",startdate:"Start Date",planstartdate:"Plan Start Date",enddate:"End Date",planenddate:"Plan End Date",cost:"Cost",moreinfo:"More Information",notes:"Notes",january:"January",february:"February",march:"March",april:"April",maylong:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December",jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec",sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"};a.de={format:"Ansicht",hour:"Stunde",day:"Tag",week:"Woche",month:"Monat",quarter:"Quartal",hours:"Stunden",days:"Tage",weeks:"Wochen",months:"Monate",quarters:"Quartale",hr:"h",dy:"T",wk:"W",mth:"M",qtr:"Q",hrs:"Std",dys:"Tage",wks:"Wochen",mths:"Monate",qtrs:"Quartal",resource:"Resource",duration:"Dauer",comp:"%Fertig",completion:"Fertigstellung",startdate:"Erste Buchu",planstartdate:"Erste Buchu Plan",enddate:"Letzte Buchung",planenddate:"Plan Letzte Buchung",cost:"Cost",moreinfo:"Weitere Infos",notes:"Anmerkung",january:"Jänner",february:"Februar",march:"März",april:"April",maylong:"Mai",june:"Juni",july:"Juli",august:"August",september:"September",october:"Oktober",november:"November",december:"Dezember",jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"Mai",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Okt",nov:"Nov",dec:"Dez",sunday:"Sonntag",monday:"Montag",tuesday:"Dienstag",wednesday:"Mittwoch",thursday:"Donnerstag",friday:"Freitag",saturday:"Samstag",sun:"So",mon:"Mo",tue:"Di",wed:"Mi",thu:"Do",fri:"Fr",sat:"Sa"};a.pt={hours:"Horas",days:"Dias",weeks:"Weeks",months:"Months",quarters:"Quarters",format:"Formato",hour:"Hora",day:"Dia",week:"Semana",month:"Mês",quarter:"Trimestre",hr:"hr",dy:"dia",wk:"sem.",mth:"mês",qtr:"qtr",hrs:"hrs",dys:"dias",wks:"sem.",mths:"meses",qtrs:"qtrs",completion:"Terminado",comp:"% Completado",moreinfo:"Mais informações",notes:"Notas",resource:"Responsável",duration:"Duração",startdate:"Data inicial",planstartdate:"Plan Data inicial",enddate:"Data final",planenddate:"Plan Data final",cost:"Custo",jan:"Jan",feb:"Fev",mar:"Mar",apr:"Abr",may:"Mai",jun:"Jun",jul:"Jul",aug:"Ago",sep:"Set",oct:"Out",nov:"Nov",dec:"Dez",january:"Janeiro",february:"Fevereiro",march:"Março",april:"Abril",maylong:"Maio",june:"Junho",july:"Julho",august:"Agosto",september:"Setembro",october:"Outubro",november:"Novembro",december:"Dezembro",sun:"Dom",mon:"Seg",tue:"Ter",wed:"Qua",thu:"Qui",fri:"Sex",sat:"Sab"};a.ru={january:"Январь",february:"Февраль",march:"Март",april:"Апрель",maylong:"Май",june:"Июнь",july:"Июль",august:"Август",september:"Сентябрь",october:"Октябрь",november:"Ноябрь",december:"Декабрь",jan:"Янв",feb:"Фев",mar:"Мар",apr:"Апр",may:"Май",jun:"Июн",jul:"Июл",aug:"Авг",sep:"Сен",oct:"Окт",nov:"Ноя",dec:"Дек",sunday:"Воскресенье",monday:"Понедельник",tuesday:"Вторник",wednesday:"Среда",thursday:"Четверг",friday:"Пятница",saturday:"Суббота",sun:"\tВс",mon:"\tПн",tue:"\tВт",wed:"\tСр",thu:"\tЧт",fri:"\tПт",sat:"\tСб",resource:"Ресурс",duration:"Длительность",comp:"% выполнения",completion:"Выполнено",startdate:"Нач. дата",planstartdate:"Plan Нач. дата",enddate:"Кон. дата",planenddate:"Plan Кон. дата",cost:"Cost",moreinfo:"Детали",notes:"Заметки",format:"Формат",hour:"Час",day:"День",week:"Неделя",month:"Месяц",quarter:"Кварт",hours:"Часов",days:"Дней",weeks:"Недель",months:"Месяцев",quarters:"Кварталов",hr:"ч.",dy:"дн.",wk:"нед.",mth:"мес.",qtr:"кв.",hrs:"ч.",dys:"дн.",wks:"нед.",mths:"мес.",qtrs:"кв."};a.fr={january:"Janvier",february:"Février",march:"Mars",april:"Avril",maylong:"Mai",june:"Juin",july:"Juillet",august:"Août",september:"Septembre",october:"Octobre",november:"Novembre",december:"Décembre",jan:"Janv",feb:"Févr",mar:"Mars",apr:"Avr",may:"Mai",jun:"Juin",jul:"Juil",aug:"Août",sep:"Sept",oct:"Oct",nov:"Nov",dec:"Déc",sunday:"Dimanche",monday:"Lundi",tuesday:"Mardi",wednesday:"Mercredi",thursday:"Jeudi",friday:"Vendredi",saturday:"Samedi",sun:"Dim",mon:"Lun",tue:"Mar",wed:"Mer",thu:"Jeu",fri:"Ven",sat:"Sam",resource:"Ressource",duration:"Durée",comp:"% Term.",completion:"Terminé",startdate:"Début",planstartdate:"Plan Début",enddate:"Fin",planenddate:"Plan Fin",cost:"Cost",moreinfo:"Plus d'informations",notes:"Notes",format:"Format",hour:"Heure",day:"Jour",week:"Semaine",month:"Mois",quarter:"Trimestre",hours:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",quarters:"Trimestres",hr:"h",dy:"j",wk:"sem",mth:"mois",qtr:"tri",hrs:"h",dys:"j",wks:"sem",mths:"mois",qtrs:"tri"};a.cn={january:"一月",february:"二月",march:"三月",april:"四月",maylong:"五月",june:"六月",july:"七月",august:"八月",september:"九月",october:"十月",november:"十一月",december:"十二月",jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月",sunday:"星期日",monday:"星期一",tuesday:"星期二",wednesday:"星期三",thursday:"星期四",friday:"星期五",saturday:"星期六",sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六",resource:"資源",duration:"時程",comp:"達成率",completion:"達成",startdate:"起始日期",planstartdate:"計劃起始日期",enddate:"截止日期",planenddate:"計劃截止日期",cost:"成本",moreinfo:"更多資訊",notes:"備註",format:"格式",hour:"時",day:"日",week:"星期",month:"月",quarter:"季",hours:"小時",days:"天",weeks:"週",months:"月",quarters:"季",hr:"小時",dy:"天",wk:"週",mth:"月",qtr:"季",hrs:"小時",dys:"天",wks:"週",mths:"月",qtrs:"季"};a.sv={format:"Filter",hour:"Timme",day:"Dag",week:"Vecka",month:"Månad",quarter:"Kvartal",hours:"Timmar",days:"Dagar",weeks:"Veckor",months:"Månader",quarters:"Kvartal",hr:"Timme",dy:"Dag",wk:"Vecka",mth:"Månad",qtr:"Q",hrs:"Timmar",dys:"Dagar",wks:"Veckor",mths:"Månader",qtrs:"Q",resource:"Resurs",duration:"Tidsåtgång",comp:"% klart",completion:"Klart",startdate:"Startdatum",planstartdate:"Planerad startdatum",enddate:"Slutdatum",planenddate:"Planerad slutdatum",cost:"Kostnad",moreinfo:"Mer Information",notes:"Notes",january:"januari",february:"februari",march:"mars",april:"april",maylong:"maj",june:"juni",july:"juli",august:"augusti",september:"september",october:"oktober",november:"november",december:"december",jan:"jan",feb:"feb",mar:"mar",apr:"apr",may:"maj",jun:"jun",jul:"jul",aug:"aug",sep:"sep",oct:"okt",nov:"nov",dec:"dec",sunday:"söndag",monday:"måndag",tuesday:"tisdag",wednesday:"onsdag",thursday:"torsdag",friday:"fredag",saturday:"lördag",sun:"sön",mon:"mån",tue:"tis",wed:"ons",thu:"tor",fri:"fre",sat:"lör"};a.nl={format:"Format",hour:"Uur",day:"Dag",week:"Week",month:"Maand",quarter:"Kwartaal",hours:"Uren",days:"Dagen",weeks:"Weken",months:"Maanden",quarters:"Kwartalen",hr:"uur",dy:"dag",wk:"wk",mth:"mnd",qtr:"kw",hrs:"uren",dys:"dagen",wks:"weken",mths:"maanden",qtrs:"kwartalen",resource:"Resource",duration:"Doorlooptijd",comp:"% gereed",completion:"Gereed",startdate:"Startdatum",planstartdate:"Geplande startdatum",enddate:"Einddatum",planenddate:"Geplande einddatum",cost:"Kosten",moreinfo:"Meer informatie",notes:"Notities",january:"januari",february:"februari",march:"maart",april:"april",maylong:"mei",june:"juni",july:"juli",august:"augustus",september:"september",october:"oktober",november:"november",december:"december",jan:"jan",feb:"feb",mar:"mrt",apr:"apr",may:"mei",jun:"jun",jul:"jul",aug:"aug",sep:"sep",oct:"okt",nov:"nov",dec:"dec",sunday:"zondag",monday:"maandag",tuesday:"dinsdag",wednesday:"woensdag",thursday:"donderdag",friday:"vrijdag",saturday:"zaterdag",sun:"zo",mon:"ma",tue:"di",wed:"wo",thu:"do",fri:"vr",sat:"za"};a.id={format:"Format",hour:"Jam",day:"Hari",week:"Minggu",month:"Bulan",quarter:"Kuartal",hours:"Jam",days:"Hari",weeks:"Minggu",months:"Bulan",quarters:"Kuartal",hr:"Jam",dy:"Hari",wk:"Min",mth:"Bln",qtr:"Krtl",hrs:"Jam",dys:"Hari",wks:"Min",mths:"Bln",qtrs:"Krtl",resource:"Sumber Daya",duration:"Durasi",comp:"% Penyelesaian",completion:"Penyelesaian",startdate:"Tanggal Mulai",planstartdate:"Perencanaan Tanggal Mulai",enddate:"Tanggal Akhir",planenddate:"Perencanaan Tanggal Akhir",cost:"Biaya",moreinfo:"Informasi Lebih Lanjut",notes:"Catatan",january:"Januari",february:"Februari",march:"Maret",april:"April",maylong:"Mei",june:"Juni",july:"Juli",august:"Agustus",september:"September",october:"Oktober",november:"November",december:"Desember",jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"Mei",jun:"Jun",jul:"Jul",aug:"Agu",sep:"Sep",oct:"Okt",nov:"Nov",dec:"Des",sunday:"Minggu",monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu",sun:"Min",mon:"Sen",tue:"Sel",wed:"Rab",thu:"Kam",fri:"Jum",sat:"Sab"};a.tr={format:"Biçim",hour:"Saat",day:"Gün",week:"Hafta",month:"Ay",quarter:"Çeyrek Yıl",hours:"Saat",days:"Gün",weeks:"Hafta",months:"Ay",quarters:"Çeyrek Yıl",hr:"Saat",dy:"Gün",wk:"Hft",mth:"Ay",qtr:"Çyrk",hrs:"Saat",dys:"Gün",wks:"Hft",mths:"Ay",qtrs:"Çyrk",resource:"Kaynak",duration:"Süre",comp:"% Tamamlanma.",completion:"Tamamlanma",startdate:"Başlangıç Tarihi",planstartdate:"Plan Başlama Tarihi",enddate:"Bitiş Tarihi",planenddate:"Plan Bitiş Tarihi",cost:"Tutar",moreinfo:"Daha Fazla Bilgi",notes:"Notlar",january:"Ocak",february:"Şubat",march:"Mart",april:"Nisan",maylong:"Mayıs",june:"Haziran",july:"Temmuz",august:"Ağustos",september:"Eylül",october:"Ekim",november:"Kasım",december:"Aralık",jan:"Oca",feb:"Şub",mar:"Mar",apr:"Nis",may:"May",jun:"Haz",jul:"Tem",aug:"Ağu",sep:"Eyl",oct:"Eki",nov:"Kas",dec:"Ara",sunday:"Pazar",monday:"Pazartesi",tuesday:"Salı",wednesday:"Çarşamba",thursday:"Perşembe",friday:"Cuma",saturday:"Cumartesi",sun:"Paz",mon:"Pzt",tue:"Sal",wed:"Çrş",thu:"Prş",fri:"Cum",sat:"Cmt"}},{}],7:[function(t,e,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("./utils");a.includeGetSet=function(){this.setOptions=function(t){for(var e=Object.keys(t),a=0;a<e.length;a++){var n=e[a],s=t[n];"vResources"===n?this["set"+n.substr(1)](s):s instanceof Array?this["set"+n.substr(1)].apply(this,s):this["set"+n.substr(1)](s)}},this.setUseFade=function(t){this.vUseFade=t},this.setUseMove=function(t){this.vUseMove=t},this.setUseRowHlt=function(t){this.vUseRowHlt=t},this.setUseToolTip=function(t){this.vUseToolTip=t},this.setUseSort=function(t){this.vUseSort=t},this.setUseSingleCell=function(t){this.vUseSingleCell=1*t},this.setFormatArr=function(){var t="hour day week month quarter";this.vFormatArr=new Array;for(var e=0,a=0;e<arguments.length;e++)if(-1!=t.indexOf(arguments[e].toLowerCase())&&1<arguments[e].length){this.vFormatArr[a++]=arguments[e].toLowerCase();var n=new RegExp("(?:^|s)"+arguments[e]+"(?!S)","g");t=t.replace(n,"")}},this.setShowRes=function(t){this.vShowRes=t},this.setShowDur=function(t){this.vShowDur=t},this.setShowComp=function(t){this.vShowComp=t},this.setShowStartDate=function(t){this.vShowStartDate=t},this.setShowEndDate=function(t){this.vShowEndDate=t},this.setShowPlanStartDate=function(t){this.vShowPlanStartDate=t},this.setShowPlanEndDate=function(t){this.vShowPlanEndDate=t},this.setShowCost=function(t){this.vShowCost=t},this.setShowAddEntries=function(t){this.vShowAddEntries=t},this.setShowTaskInfoRes=function(t){this.vShowTaskInfoRes=t},this.setShowTaskInfoDur=function(t){this.vShowTaskInfoDur=t},this.setShowTaskInfoComp=function(t){this.vShowTaskInfoComp=t},this.setShowTaskInfoStartDate=function(t){this.vShowTaskInfoStartDate=t},this.setShowTaskInfoEndDate=function(t){this.vShowTaskInfoEndDate=t},this.setShowTaskInfoNotes=function(t){this.vShowTaskInfoNotes=t},this.setShowTaskInfoLink=function(t){this.vShowTaskInfoLink=t},this.setShowEndWeekDate=function(t){this.vShowEndWeekDate=t},this.setShowSelector=function(){var t="top bottom";this.vShowSelector=new Array;for(var e=0,a=0;e<arguments.length;e++)if(-1!=t.indexOf(arguments[e].toLowerCase())&&1<arguments[e].length){this.vShowSelector[a++]=arguments[e].toLowerCase();var n=new RegExp("(?:^|s)"+arguments[e]+"(?!S)","g");t=t.replace(n,"")}},this.setShowDeps=function(t){this.vShowDeps=t},this.setDateInputFormat=function(t){this.vDateInputFormat=t},this.setDateTaskTableDisplayFormat=function(t){this.vDateTaskTableDisplayFormat=n.parseDateFormatStr(t)},this.setDateTaskDisplayFormat=function(t){this.vDateTaskDisplayFormat=n.parseDateFormatStr(t)},this.setHourMajorDateDisplayFormat=function(t){this.vHourMajorDateDisplayFormat=n.parseDateFormatStr(t)},this.setHourMinorDateDisplayFormat=function(t){this.vHourMinorDateDisplayFormat=n.parseDateFormatStr(t)},this.setDayMajorDateDisplayFormat=function(t){this.vDayMajorDateDisplayFormat=n.parseDateFormatStr(t)},this.setDayMinorDateDisplayFormat=function(t){this.vDayMinorDateDisplayFormat=n.parseDateFormatStr(t)},this.setWeekMajorDateDisplayFormat=function(t){this.vWeekMajorDateDisplayFormat=n.parseDateFormatStr(t)},this.setWeekMinorDateDisplayFormat=function(t){this.vWeekMinorDateDisplayFormat=n.parseDateFormatStr(t)},this.setMonthMajorDateDisplayFormat=function(t){this.vMonthMajorDateDisplayFormat=n.parseDateFormatStr(t)},this.setMonthMinorDateDisplayFormat=function(t){this.vMonthMinorDateDisplayFormat=n.parseDateFormatStr(t)},this.setQuarterMajorDateDisplayFormat=function(t){this.vQuarterMajorDateDisplayFormat=n.parseDateFormatStr(t)},this.setQuarterMinorDateDisplayFormat=function(t){this.vQuarterMinorDateDisplayFormat=n.parseDateFormatStr(t)},this.setCaptionType=function(t){this.vCaptionType=t},this.setFormat=function(t){this.vFormat=t,this.Draw()},this.setWorkingDays=function(t){this.vWorkingDays=t},this.setMinGpLen=function(t){this.vMinGpLen=t},this.setScrollTo=function(t){this.vScrollTo=t},this.setHourColWidth=function(t){this.vHourColWidth=t},this.setDayColWidth=function(t){this.vDayColWidth=t},this.setWeekColWidth=function(t){this.vWeekColWidth=t},this.setMonthColWidth=function(t){this.vMonthColWidth=t},this.setQuarterColWidth=function(t){this.vQuarterColWidth=t},this.setRowHeight=function(t){this.vRowHeight=t},this.setLang=function(t){this.vLangs[t]&&(this.vLang=t)},this.setChartBody=function(t){("function"!=typeof HTMLDivElement||t instanceof HTMLDivElement)&&(this.vChartBody=t)},this.setChartHead=function(t){("function"!=typeof HTMLDivElement||t instanceof HTMLDivElement)&&(this.vChartHead=t)},this.setListBody=function(t){("function"!=typeof HTMLDivElement||t instanceof HTMLDivElement)&&(this.vListBody=t)},this.setChartTable=function(t){("function"!=typeof HTMLTableElement||t instanceof HTMLTableElement)&&(this.vChartTable=t)},this.setLines=function(t){("function"!=typeof HTMLDivElement||t instanceof HTMLDivElement)&&(this.vLines=t)},this.setTimer=function(t){this.vTimer=1*t},this.setTooltipDelay=function(t){this.vTooltipDelay=1*t},this.setTooltipTemplate=function(t){this.vTooltipTemplate=t},this.addLang=function(t,e){if(!this.vLangs[t])for(var a in this.vLangs[t]=new Object,this.vLangs.en)this.vLangs[t][a]=e[a]?document.createTextNode(e[a]).data:this.vLangs.en[a]},this.setEvents=function(t){this.vEvents=t},this.setEventsChange=function(t){this.vEventsChange=t},this.setEventClickRow=function(t){this.vEventClickRow=t},this.setResources=function(t){this.vResources=t},this.setAdditionalHeaders=function(t){this.vAdditionalHeaders=t},this.setEditable=function(t){this.vEditable=t},this.setDebug=function(t){this.vDebug=t},this.getDivId=function(){return this.vDivId},this.getUseFade=function(){return this.vUseFade},this.getUseMove=function(){return this.vUseMove},this.getUseRowHlt=function(){return this.vUseRowHlt},this.getUseToolTip=function(){return this.vUseToolTip},this.getUseSort=function(){return this.vUseSort},this.getUseSingleCell=function(){return this.vUseSingleCell},this.getFormatArr=function(){return this.vFormatArr},this.getShowRes=function(){return this.vShowRes},this.getShowDur=function(){return this.vShowDur},this.getShowComp=function(){return this.vShowComp},this.getShowStartDate=function(){return this.vShowStartDate},this.getShowEndDate=function(){return this.vShowEndDate},this.getShowPlanStartDate=function(){return this.vShowPlanStartDate},this.getShowPlanEndDate=function(){return this.vShowPlanEndDate},this.getShowCost=function(){return this.vShowCost},this.getShowAddEntries=function(){return this.vShowAddEntries},this.getShowTaskInfoRes=function(){return this.vShowTaskInfoRes},this.getShowTaskInfoDur=function(){return this.vShowTaskInfoDur},this.getShowTaskInfoComp=function(){return this.vShowTaskInfoComp},this.getShowTaskInfoStartDate=function(){return this.vShowTaskInfoStartDate},this.getShowTaskInfoEndDate=function(){return this.vShowTaskInfoEndDate},this.getShowTaskInfoNotes=function(){return this.vShowTaskInfoNotes},this.getShowTaskInfoLink=function(){return this.vShowTaskInfoLink},this.getShowEndWeekDate=function(){return this.vShowEndWeekDate},this.getShowSelector=function(){return this.vShowSelector},this.getShowDeps=function(){return this.vShowDeps},this.getDateInputFormat=function(){return this.vDateInputFormat},this.getDateTaskTableDisplayFormat=function(){return this.vDateTaskTableDisplayFormat},this.getDateTaskDisplayFormat=function(){return this.vDateTaskDisplayFormat},this.getHourMajorDateDisplayFormat=function(){return this.vHourMajorDateDisplayFormat},this.getHourMinorDateDisplayFormat=function(){return this.vHourMinorDateDisplayFormat},this.getDayMajorDateDisplayFormat=function(){return this.vDayMajorDateDisplayFormat},this.getDayMinorDateDisplayFormat=function(){return this.vDayMinorDateDisplayFormat},this.getWeekMajorDateDisplayFormat=function(){return this.vWeekMajorDateDisplayFormat},this.getWeekMinorDateDisplayFormat=function(){return this.vWeekMinorDateDisplayFormat},this.getMonthMajorDateDisplayFormat=function(){return this.vMonthMajorDateDisplayFormat},this.getMonthMinorDateDisplayFormat=function(){return this.vMonthMinorDateDisplayFormat},this.getQuarterMajorDateDisplayFormat=function(){return this.vQuarterMajorDateDisplayFormat},this.getQuarterMinorDateDisplayFormat=function(){return this.vQuarterMinorDateDisplayFormat},this.getCaptionType=function(){return this.vCaptionType},this.getMinGpLen=function(){return this.vMinGpLen},this.getScrollTo=function(){return this.vScrollTo},this.getHourColWidth=function(){return this.vHourColWidth},this.getDayColWidth=function(){return this.vDayColWidth},this.getWeekColWidth=function(){return this.vWeekColWidth},this.getMonthColWidth=function(){return this.vMonthColWidth},this.getQuarterColWidth=function(){return this.vQuarterColWidth},this.getRowHeight=function(){return this.vRowHeight},this.getChartBody=function(){return this.vChartBody},this.getChartHead=function(){return this.vChartHead},this.getListBody=function(){return this.vListBody},this.getChartTable=function(){return this.vChartTable},this.getLines=function(){return this.vLines},this.getTimer=function(){return this.vTimer},this.getTooltipDelay=function(){return this.vTooltipDelay},this.getList=function(){return this.vTaskList},this.getEventsClickCell=function(){return this.vEvents},this.getEventsChange=function(){return this.vEventsChange},this.getEventClickRow=function(){return this.vEventClickRow},this.getResources=function(){return this.vResources},this.getAdditionalHeaders=function(){return this.vAdditionalHeaders}}},{"./utils":9}],8:[function(t,e,k){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++)for(var s in e=arguments[a])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(k,"__esModule",{value:!0});var ct=t("./utils");k.folder=function(t,e){var a,n=e.getList();e.clearDependencies();for(var s=0;s<n.length;s++)n[s].getID()==t&&(1==n[s].getOpen()?(n[s].setOpen(0),k.hide(t,e),ct.isIE()?n[s].getGroupSpan().innerText="+":n[s].getGroupSpan().textContent="+"):(n[s].setOpen(1),k.show(t,1,e),ct.isIE()?n[s].getGroupSpan().innerText="-":n[s].getGroupSpan().textContent="-"));if(this.vDebug&&(a=new Date,console.log("after drawDependency",a)),e.DrawDependencies(this.vDebug),this.vDebug){var i=new Date;console.log("after drawDependency",i,i.getTime()-a.getTime())}},k.hide=function(t,e){for(var a=e.getList(),n=0,s=0;s<a.length;s++)a[s].getParent()==t&&(n=a[s].getID(),a[s].getListChildRow()&&(a[s].getListChildRow().style.display="none"),a[s].getChildRow()&&(a[s].getChildRow().style.display="none"),a[s].setVisible(0),a[s].getGroup()&&k.hide(n,e))},k.show=function(t,e,a){for(var n=a.getList(),s=0,i="",o=0;o<n.length;o++)n[o].getParent()==t&&(n[o].getParItem().getGroupSpan()&&(i=ct.isIE()?n[o].getParItem().getGroupSpan().innerText:n[o].getParItem().getGroupSpan().textContent),o=n.length);for(o=0;o<n.length;o++)if(n[o].getParent()==t){var r=!1;s=n[o].getID(),1==e&&"+"==i?r=!0:"-"==i?r=!0:n[o].getParItem()&&2==n[o].getParItem().getGroup()&&n[o].setVisible(1),r&&(n[o].getListChildRow()&&(n[o].getListChildRow().style.display=""),n[o].getChildRow()&&(n[o].getChildRow().style.display=""),n[o].setVisible(1)),n[o].getGroup()&&k.show(s,0,a)}},k.taskLink=function(t,e,a){var n,s;n=e||400,s=a||400,window.open(t,"newwin","height="+s+",width="+n)},k.sortTasks=function(t,e,a){if(t.length<2)return a;for(var n=a,s=new Array,i=0;i<t.length;i++)t[i].getParent()==e&&s.push(t[i]);0<s.length&&s.sort(function(t,e){var a=t.getStart().getTime()-e.getStart().getTime();return 0==a&&(a=t.getEnd().getTime()-e.getEnd().getTime()),0==a?t.getID()-e.getID():a});for(var o=0;o<s.length;o++)for(i=0;i<t.length;i++)t[i].getID()==s[o].getID()&&(t[i].setSortIdx(n++),n=k.sortTasks(t,t[i].getID(),n));return n},k.TaskItemObject=function(t){var e=a({},t);return ct.internalProperties.forEach(function(t){delete e[t]}),new k.TaskItem(t.pID,t.pName,t.pStart,t.pEnd,t.pClass,t.pLink,t.pMile,t.pRes,t.pComp,t.pGroup,t.pParent,t.pOpen,t.pDepend,t.pCaption,t.pNotes,t.pGantt,t.pCost,t.pPlanStart,t.pPlanEnd,t.pDuration,t)},k.TaskItem=function(t,e,a,n,s,i,o,r,l,d,u,h,g,v,c,p,m,f,D,T,w){void 0===m&&(m=null),void 0===f&&(f=null),void 0===D&&(D=null),void 0===T&&(T=null),void 0===w&&(w=null);var y,k=p||this,L=document.createTextNode(t).data,S=ct.hashKey(document.createTextNode(t).data),M=document.createTextNode(e).data,b=null,N=null,C=null,F=null,I=null,E=null,j=document.createTextNode(s).data,H=document.createTextNode(i).data,P=parseInt(document.createTextNode(o).data),x=document.createTextNode(r).data,A=parseFloat(document.createTextNode(l).data),O=parseInt(document.createTextNode(m).data),G=parseInt(document.createTextNode(d).data),R=w,J=document.createTextNode(u).data;J&&"0"!==J&&(J=ct.hashKey(J).toString());var X,q,W,V,Y,U=J,B=2==G?1:parseInt(document.createTextNode(h).data),_=new Array,Q=new Array,z=document.createTextNode(v).data,K=T||"",Z=0,$=0,tt=0,et=1,at=0,nt=!1,st=null,it=null,ot=null,rt=null,lt=null,dt=null,ut=null;if((Y=document.createElement("span")).className="gTaskNotes",null!=c&&(Y.innerHTML=c,ct.stripUnwanted(Y)),null!=a&&""!=a&&(b=a instanceof Date?a:ct.parseDateStr(document.createTextNode(a).data,k.getDateInputFormat()),I=b),null!=n&&""!=n&&(N=n instanceof Date?n:ct.parseDateStr(document.createTextNode(n).data,k.getDateInputFormat()),E=N),null!=f&&""!=f&&(C=f instanceof Date?f:ct.parseDateStr(document.createTextNode(f).data,k.getDateInputFormat()),I=C),null!=D&&""!=D&&(F=D instanceof Date?D:ct.parseDateStr(document.createTextNode(D).data,k.getDateInputFormat()),E=F),null!=g)for(var ht=(g+"").split(","),gt=ht.length,vt=0;vt<gt;vt++)-1!=ht[vt].toUpperCase().indexOf("SS")?(_[vt]=ht[vt].substring(0,ht[vt].toUpperCase().indexOf("SS")),Q[vt]="SS"):-1!=ht[vt].toUpperCase().indexOf("FF")?(_[vt]=ht[vt].substring(0,ht[vt].toUpperCase().indexOf("FF")),Q[vt]="FF"):-1!=ht[vt].toUpperCase().indexOf("SF")?(_[vt]=ht[vt].substring(0,ht[vt].toUpperCase().indexOf("SF")),Q[vt]="SF"):(-1!=ht[vt].toUpperCase().indexOf("FS")?_[vt]=ht[vt].substring(0,ht[vt].toUpperCase().indexOf("FS")):_[vt]=ht[vt],Q[vt]="FS"),_[vt]&&(_[vt]=ct.hashKey(_[vt]).toString());this.getID=function(){return S},this.getOriginalID=function(){return L},this.getGantt=function(){return k},this.getName=function(){return M},this.getStart=function(){return b||(C||new Date)},this.getEnd=function(){if(N)return N;if(F)return F;if(b&&K){var t=new Date(b),e=K.split(" "),a=parseInt(e[0]);switch(e[1]){case"hour":t.setMinutes(t.getMinutes()+60*a);break;case"day":t.setMinutes(t.getMinutes()+60*a*24);break;case"week":t.setMinutes(t.getMinutes()+60*a*24*7);break;case"month":t.setMonth(t.getMonth()+a);break;case"quarter":t.setMonth(t.getMonth()+3*a)}return t}return new Date},this.getPlanStart=function(){return C||b},this.getPlanEnd=function(){return F||N},this.getCost=function(){return O},this.getGroupMinStart=function(){return I},this.getGroupMinEnd=function(){return E},this.getClass=function(){return j},this.getLink=function(){return H},this.getMile=function(){return P},this.getDepend=function(){return _||null},this.getDataObject=function(){return R},this.getDepType=function(){return Q||null},this.getCaption=function(){return z||""},this.getResource=function(){return x||" "},this.getCompVal=function(){return A||(y||0)},this.getCompStr=function(){return A?A+"%":y?y+"%":""},this.getNotes=function(){return Y},this.getSortIdx=function(){return at},this.getToDelete=function(){return nt},this.getDuration=function(t,e){if(P)K="-";else{if(!N&&K)return K;var a=null;switch(t){case"week":a="day";break;case"month":a="week";break;case"quarter":a="month";break;default:a=t}var n=(this.getEnd().getTime()-this.getStart().getTime())/1e3/60/60,s=void 0;switch(a){case"hour":s=Math.round(n),K=s+" "+(1!=s?e.hrs:e.hr);break;case"day":s=Math.round(n/24),K=s+" "+(1!=s?e.dys:e.dy);break;case"week":s=Math.round(n/24/7),K=s+" "+(1!=s?e.wks:e.wk);break;case"month":s=Math.round(n/24/7/30),K=s+" "+(1!=s?e.mths:e.mth);break;case"quarter":s=Math.round(n/24/7/30/3),K=s+" "+(1!=s?e.qtrs:e.qtr)}}return K},this.getParent=function(){return U},this.getGroup=function(){return G},this.getOpen=function(){return B},this.getLevel=function(){return Z},this.getNumKids=function(){return $},this.getWeight=function(){return tt},this.getStartX=function(){return X},this.getStartY=function(){return q},this.getEndX=function(){return W},this.getEndY=function(){return V},this.getVisible=function(){return et},this.getParItem=function(){return st},this.getCellDiv=function(){return it},this.getBarDiv=function(){return ot},this.getTaskDiv=function(){return rt},this.getChildRow=function(){return dt},this.getListChildRow=function(){return lt},this.getGroupSpan=function(){return ut},this.setName=function(t){M=t},this.setNotes=function(t){Y=t},this.setClass=function(t){j=t},this.setCost=function(t){O=t},this.setResource=function(t){x=t},this.setDuration=function(t){K=t},this.setDataObject=function(t){R=t},this.setStart=function(t){if(t instanceof Date)b=t;else{var e=new Date(t);e instanceof Date&&!isNaN(e.valueOf())&&(b=e)}},this.setEnd=function(t){if(t instanceof Date)N=t;else{var e=new Date(t);e instanceof Date&&!isNaN(e.valueOf())&&(N=e)}},this.setPlanStart=function(t){C=t instanceof Date?t:new Date(t)},this.setPlanEnd=function(t){F=t instanceof Date?t:new Date(t)},this.setGroupMinStart=function(t){t instanceof Date&&(I=t)},this.setGroupMinEnd=function(t){t instanceof Date&&(E=t)},this.setLevel=function(t){Z=parseInt(document.createTextNode(t).data)},this.setNumKid=function(t){$=parseInt(document.createTextNode(t).data)},this.setWeight=function(t){tt=parseInt(document.createTextNode(t).data)},this.setCompVal=function(t){y=parseFloat(document.createTextNode(t).data)},this.setComp=function(t){A=parseInt(document.createTextNode(t).data)},this.setStartX=function(t){X=parseInt(document.createTextNode(t).data)},this.setStartY=function(t){q=parseInt(document.createTextNode(t).data)},this.setEndX=function(t){W=parseInt(document.createTextNode(t).data)},this.setEndY=function(t){V=parseInt(document.createTextNode(t).data)},this.setOpen=function(t){B=parseInt(document.createTextNode(t).data)},this.setVisible=function(t){et=parseInt(document.createTextNode(t).data)},this.setSortIdx=function(t){at=parseInt(document.createTextNode(t).data)},this.setToDelete=function(t){nt=!!t},this.setParItem=function(t){t&&(st=t)},this.setCellDiv=function(t){("function"!=typeof HTMLDivElement||t instanceof HTMLDivElement)&&(it=t)},this.setGroup=function(t){G=!0===t||"true"===t?1:!1===t||"false"===t?0:parseInt(document.createTextNode(t).data)},this.setBarDiv=function(t){("function"!=typeof HTMLDivElement||t instanceof HTMLDivElement)&&(ot=t)},this.setTaskDiv=function(t){("function"!=typeof HTMLDivElement||t instanceof HTMLDivElement)&&(rt=t)},this.setChildRow=function(t){("function"!=typeof HTMLTableRowElement||t instanceof HTMLTableRowElement)&&(dt=t)},this.setListChildRow=function(t){("function"!=typeof HTMLTableRowElement||t instanceof HTMLTableRowElement)&&(lt=t)},this.setGroupSpan=function(t){("function"!=typeof HTMLSpanElement||t instanceof HTMLSpanElement)&&(ut=t)},this.getAllData=function(){return{pID:S,pName:M,pStart:b,pEnd:N,pPlanStart:C,pPlanEnd:F,pGroupMinStart:I,pGroupMinEnd:E,pClass:j,pLink:H,pMile:P,pRes:x,pComp:A,pCost:O,pGroup:G,pDataObjec:R}}},k.createTaskInfo=function(t,n){var e,s=this;void 0===n&&(n=null);var a=document.createDocumentFragment(),i=this.newNode(a,"div",null,"gTaskInfo");if(n){var o=t.getAllData();ct.internalProperties.forEach(function(t){var e;ct.internalPropertiesLang[t]&&(e=s.vLangs[s.vLang][ct.internalPropertiesLang[t]]),e=e||t;var a=o[t];n=n.replace("{{"+t+"}}",a),n=e?n.replace("{{Lang:"+t+"}}",e):n.replace("{{Lang:"+t+"}}",t)}),this.newNode(i,"span",null,"gTtTemplate",n)}else{if(this.newNode(i,"span",null,"gTtTitle",t.getName()),1==this.vShowTaskInfoStartDate&&(e=this.newNode(i,"div",null,"gTILine gTIsd"),this.newNode(e,"span",null,"gTaskLabel",this.vLangs[this.vLang].startdate+": "),this.newNode(e,"span",null,"gTaskText",ct.formatDateStr(t.getStart(),this.vDateTaskDisplayFormat,this.vLangs[this.vLang]))),1==this.vShowTaskInfoEndDate&&(e=this.newNode(i,"div",null,"gTILine gTIed"),this.newNode(e,"span",null,"gTaskLabel",this.vLangs[this.vLang].enddate+": "),this.newNode(e,"span",null,"gTaskText",ct.formatDateStr(t.getEnd(),this.vDateTaskDisplayFormat,this.vLangs[this.vLang]))),1!=this.vShowTaskInfoDur||t.getMile()||(e=this.newNode(i,"div",null,"gTILine gTId"),this.newNode(e,"span",null,"gTaskLabel",this.vLangs[this.vLang].duration+": "),this.newNode(e,"span",null,"gTaskText",t.getDuration(this.vFormat,this.vLangs[this.vLang]))),1==this.vShowTaskInfoComp&&(e=this.newNode(i,"div",null,"gTILine gTIc"),this.newNode(e,"span",null,"gTaskLabel",this.vLangs[this.vLang].completion+": "),this.newNode(e,"span",null,"gTaskText",t.getCompStr())),1==this.vShowTaskInfoRes&&(e=this.newNode(i,"div",null,"gTILine gTIr"),this.newNode(e,"span",null,"gTaskLabel",this.vLangs[this.vLang].resource+": "),this.newNode(e,"span",null,"gTaskText",t.getResource())),1==this.vShowTaskInfoLink&&""!=t.getLink()){e=this.newNode(i,"div",null,"gTILine gTIl");var r=this.newNode(e,"span",null,"gTaskLabel");(r=this.newNode(r,"a",null,"gTaskText",this.vLangs[this.vLang].moreinfo)).setAttribute("href",t.getLink())}1==this.vShowTaskInfoNotes&&(e=this.newNode(i,"div",null,"gTILine gTIn"),this.newNode(e,"span",null,"gTaskLabel",this.vLangs[this.vLang].notes+": "),t.getNotes()&&e.appendChild(t.getNotes()))}return a},k.AddTaskItem=function(t){for(var e=!1,a=0;a<this.vTaskList.length;a++)this.vTaskList[a].getID()==t.getID()&&(a=this.vTaskList.length,e=!0);e||(this.vTaskList.push(t),this.vProcessNeeded=!0)},k.AddTaskItemObject=function(t){return t.pGantt||(t.pGantt=this),this.AddTaskItem(k.TaskItemObject(t))},k.RemoveTaskItem=function(t){for(var e=0;e<this.vTaskList.length;e++)this.vTaskList[e].getID()==t?this.vTaskList[e].setToDelete(!0):this.vTaskList[e].getParent()==t&&this.RemoveTaskItem(this.vTaskList[e].getID());this.vProcessNeeded=!0},k.ClearTasks=function(){var e=this;this.vTaskList.map(function(t){return e.RemoveTaskItem(t.getID())}),this.vProcessNeeded=!0},k.processRows=function(t,e,a,n,s,i,o){void 0===o&&(o=!1);var r=new Date,l=new Date,d=s,u=null,h=0,g=0,v=0,c=0,p=0,m=n,f=t,D=!1,T=0;for(T=0;T<t.length;T++)t[T].getToDelete()&&(t.splice(T,1),T--),0<=T&&t[T].getID()==e&&(u=t[T]);for(T=0;T<t.length;T++)if(t[T].getParent()==e){if(d=s,t[T].setParItem(u),t[T].setVisible(d),1==d&&0==t[T].getOpen()&&(d=0),t[T].getMile()&&t[T].getParItem()&&2==t[T].getParItem().getGroup()){t.splice(T,1),T--;continue}t[T].setLevel(m),t[T].getGroup()&&(t[T].getParItem()&&2==t[T].getParItem().getGroup()&&t[T].setGroup(2),k.processRows(f,t[T].getID(),T,m+1,d,0)),(0==g||t[T].getStart()<r)&&(r=t[T].getStart(),g=1),(0==v||t[T].getEnd()>l)&&(l=t[T].getEnd(),v=1),c++,p+=t[T].getEnd()-t[T].getStart()+1,h+=t[T].getCompVal()*(t[T].getEnd()-t[T].getStart()+1),t[T].setSortIdx(T*t.length)}if(0<=a&&(null!=t[a].getGroupMinStart()&&t[a].getGroupMinStart()<r&&(r=t[a].getGroupMinStart()),null!=t[a].getGroupMinEnd()&&t[a].getGroupMinEnd()>l&&(l=t[a].getGroupMinEnd()),t[a].setStart(r),t[a].setEnd(l),t[a].setNumKid(c),t[a].setWeight(p),t[a].setCompVal(Math.ceil(h/p))),0==e&&1==i){var w=void 0;if(o&&(w=new Date,console.log("before afterTasks",w)),k.sortTasks(t,0,0),o){var y=new Date;console.log("after afterTasks",y,y.getTime()-w.getTime())}t.sort(function(t,e){return t.getSortIdx()-e.getSortIdx()})}if(0==e&&1!=i){for(T=0;T<t.length;T++)if(2==t[T].getGroup()){D=!0;w=void 0;if(o&&(w=new Date,console.log("before sortTasks",w)),k.sortTasks(t,t[T].getID(),t[T].getSortIdx()+1),o){y=new Date;console.log("after sortTasks",y,y.getTime()-w.getTime())}}1==D&&t.sort(function(t,e){return t.getSortIdx()-e.getSortIdx()})}}},{"./utils":9}],9:[function(t,e,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.internalProperties=["pID","pName","pStart","pEnd","pClass","pLink","pMile","pRes","pComp","pGroup","pParent","pOpen","pDepend","pCaption","pNotes","pGantt","pCost","pPlanStart","pPlanEnd"],c.internalPropertiesLang={pID:"id",pName:"name",pStart:"startdate",pEnd:"enddate",pLink:"link",pMile:"mile",pRes:"resource",pComp:"comp",pGroup:"group",pParent:"parent",pOpen:"open",pDepend:"depend",pCaption:"caption",pNotes:"notes",pCost:"cost",pPlanStart:"planstartdate",pPlanEnd:"planenddate"},c.getMinDate=function(t,e){var a=new Date;if(t.length<=0)return a;a.setTime(t[0].getStart().getTime());for(var n=0;n<t.length;n++)t[n].getStart().getTime()<a.getTime()&&a.setTime(t[n].getStart().getTime());if("day"==e)for(a.setDate(a.getDate()-1);a.getDay()%7!=1;)a.setDate(a.getDate()-1);else if("week"==e)for(a.setDate(a.getDate()-1);a.getDay()%7!=1;)a.setDate(a.getDate()-1);else if("month"==e)for(a.setDate(a.getDate()-15);1<a.getDate();)a.setDate(a.getDate()-1);else if("quarter"==e)a.setDate(a.getDate()-31),0==a.getMonth()||1==a.getMonth()||2==a.getMonth()?a.setFullYear(a.getFullYear(),0,1):3==a.getMonth()||4==a.getMonth()||5==a.getMonth()?a.setFullYear(a.getFullYear(),3,1):6==a.getMonth()||7==a.getMonth()||8==a.getMonth()?a.setFullYear(a.getFullYear(),6,1):9!=a.getMonth()&&10!=a.getMonth()&&11!=a.getMonth()||a.setFullYear(a.getFullYear(),9,1);else if("hour"==e)for(a.setHours(a.getHours()-1);a.getHours()%6!=0;)a.setHours(a.getHours()-1);return"hour"==e?a.setMinutes(0,0):a.setHours(0,0,0),a},c.getMaxDate=function(t,e){var a=new Date;if(t.length<=0)return a;a.setTime(t[0].getEnd().getTime());for(var n=0;n<t.length;n++)t[n].getEnd().getTime()>a.getTime()&&a.setTime(t[n].getEnd().getTime());if("day"==e)for(a.setDate(a.getDate()+1);a.getDay()%7!=0;)a.setDate(a.getDate()+1);else if("week"==e)for(a.setDate(a.getDate()+1);a.getDay()%7!=0;)a.setDate(a.getDate()+1);else if("month"==e){for(;1<a.getDate();)a.setDate(a.getDate()+1);a.setDate(a.getDate()-1)}else if("quarter"==e)0==a.getMonth()||1==a.getMonth()||2==a.getMonth()?a.setFullYear(a.getFullYear(),2,31):3==a.getMonth()||4==a.getMonth()||5==a.getMonth()?a.setFullYear(a.getFullYear(),5,30):6==a.getMonth()||7==a.getMonth()||8==a.getMonth()?a.setFullYear(a.getFullYear(),8,30):9!=a.getMonth()&&10!=a.getMonth()&&11!=a.getMonth()||a.setFullYear(a.getFullYear(),11,31);else if("hour"==e)for(0==a.getHours()&&a.setDate(a.getDate()+1),a.setHours(a.getHours()+1);a.getHours()%6!=5;)a.setHours(a.getHours()+1);return a},c.findObj=function(t,e){var a;return void 0===e&&(e=null),e=e||document,document.getElementById&&(a=document.getElementById(t)),a},c.changeFormat=function(t,e){e?e.setFormat(t):alert("Chart undefined")},c.parseDateStr=function(t,e){var a=new Date,n=t.split(/[^0-9]/);if(10<=t.length&&3<=n.length){for(;n.length<5;)n.push(0);switch(e){case"mm/dd/yyyy":a=new Date(n[2],n[0]-1,n[1],n[3],n[4]);break;case"dd/mm/yyyy":a=new Date(n[2],n[1]-1,n[0],n[3],n[4]);break;case"yyyy-mm-dd":a=new Date(n[0],n[1]-1,n[2],n[3],n[4])}}return a},c.formatDateStr=function(t,e,a){for(var n="",s=t.getFullYear().toString().substring(2,4),i=t.getMonth()+1+"",o=new Array(a.january,a.february,a.march,a.april,a.maylong,a.june,a.july,a.august,a.september,a.october,a.november,a.december),r=new Array(a.sunday,a.monday,a.tuesday,a.wednesday,a.thursday,a.friday,a.saturday),l=new Array(a.jan,a.feb,a.mar,a.apr,a.may,a.jun,a.jul,a.aug,a.sep,a.oct,a.nov,a.dec),d=new Array(a.sun,a.mon,a.tue,a.wed,a.thu,a.fri,a.sat),u=0;u<e.length;u++)switch(e[u]){case"dd":t.getDate()<10&&(n+="0");case"d":n+=t.getDate();break;case"day":n+=d[t.getDay()];break;case"DAY":n+=r[t.getDay()];break;case"mm":parseInt(i,10)<10&&(n+="0");case"m":n+=i;break;case"mon":n+=l[t.getMonth()];break;case"month":n+=o[t.getMonth()];break;case"yyyy":n+=t.getFullYear();break;case"yy":n+=s;break;case"qq":n+=a.qtr;case"q":n+=Math.floor(t.getMonth()/3)+1;break;case"hh":(t.getHours()%12==0?12:t.getHours()%12)<10&&(n+="0");case"h":n+=t.getHours()%12==0?12:t.getHours()%12;break;case"HH":t.getHours()<10&&(n+="0");case"H":n+=t.getHours();break;case"MI":t.getMinutes()<10&&(n+="0");case"mi":n+=t.getMinutes();break;case"pm":n+=t.getHours()<12?"am":"pm";break;case"PM":n+=t.getHours()<12?"AM":"PM";break;case"ww":c.getIsoWeek(t)<10&&(n+="0");case"w":n+=c.getIsoWeek(t);break;case"week":var h=c.getIsoWeek(t),g=t.getFullYear(),v=0==t.getDay()?7:t.getDay();52<=h&&1===parseInt(i,10)&&g--,1==h&&12===parseInt(i,10)&&g++,h<10&&(h=parseInt("0"+h,10)),n+=g+"-W"+h+"-"+v;break;default:a[e[u].toLowerCase()]?n+=a[e[u].toLowerCase()]:n+=e[u]}return n},c.parseDateFormatStr=function(t){for(var e="",a="",n=new RegExp("[/\\ -.,'\":]"),s=new Array,i=0;i<t.length;i++)(a=t.charAt(i)).match(n)||i+1==t.length?(i+1!=t.length||a.match(n)||(e+=a),s.push(e),a.match(n)&&s.push(a),e=""):e+=a;return s},c.stripIds=function(t){for(var e=0;e<t.childNodes.length;e++)"removeAttribute"in t.childNodes[e]&&t.childNodes[e].removeAttribute("id"),t.childNodes[e].hasChildNodes()&&c.stripIds(t.childNodes[e])},c.stripUnwanted=function(t){for(var e=new Array("#text","p","br","ul","ol","li","div","span","img"),a=0;a<t.childNodes.length;a++)-1==(e.join().toLowerCase()+",").indexOf(t.childNodes[a].nodeName.toLowerCase()+",")&&t.replaceChild(document.createTextNode(t.childNodes[a].outerHTML),t.childNodes[a]),t.childNodes[a].hasChildNodes()&&c.stripUnwanted(t.childNodes[a])},c.delayedHide=function(t,e,a){var n=t.getTooltipDelay()||1500;e&&(e.delayTimeout=setTimeout(function(){c.hideToolTip(t,e,a)},n))},c.getZoomFactor=function(){var t=1;if(document.body.getBoundingClientRect){var e=document.body.getBoundingClientRect(),a=e.right-e.left,n=document.body.offsetWidth;t=Math.round(a/n*100)/100}return t},c.benchMark=function(t){var e=(new Date).getTime();alert(t+": Elapsed time: "+(e-this.vBenchTime)/1e3+" seconds."),this.vBenchTime=(new Date).getTime()},c.getIsoWeek=function(t){var e=new Date(t.getFullYear(),0,4,0,0,0),a=0==e.getDay()?6:e.getDay()-1,n=e.getTime()-864e5*a,s=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0).getTime(),i=Math.round((s-n)/864e5),o=99;new Date(n);return(o=Math.ceil((i+1)/7))<=0?o=c.getIsoWeek(new Date(t.getFullYear()-1,11,31,0,0,0)):53==o&&4!=new Date(t.getFullYear(),0,1,0,0,0).getDay()&&4!=new Date(t.getFullYear(),11,31,0,0,0).getDay()&&(o=1),o},c.getScrollPositions=function(){var t=window.pageXOffset,e=window.pageYOffset;if(!("pageXOffset"in window)){var a=c.getZoomFactor();t=Math.round(document.documentElement.scrollLeft/a),e=Math.round(document.documentElement.scrollTop/a)}return{x:t,y:e}},c.getOffset=function(t,e,a,n){var s,i=new Array(31,28,31,30,31,30,31,31,30,31,30,31),o=new Date(t.getTime()),r=new Date(e.getTime()),l=0,d=Date.UTC(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),0,0),u=(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),0,0)-d)/36e5;if("day"==n)l=Math.ceil(u/24*(a+3)-1);else if("week"==n)l=Math.ceil(u/168*(a+3)-1);else if("month"==n){var h=12*(r.getFullYear()-o.getFullYear())+(r.getMonth()-o.getMonth());(s=new Date(r.getTime())).setDate(o.getDate());var g=(r.getTime()-s.getTime())/864e5;l=Math.ceil(h*(a+1)+g*(a/i[r.getMonth()])-1)}else if("quarter"==n){h=12*(r.getFullYear()-o.getFullYear())+(r.getMonth()-o.getMonth());(s=new Date(r.getTime())).setDate(o.getDate());g=(r.getTime()-s.getTime())/864e5;l=Math.ceil(h*((a+1)/3)+g*(a/90)-1)}else if("hour"==n){(s=new Date(r.getTime())).setMinutes(o.getMinutes(),0);var v=(r.getTime()-s.getTime())/36e5;l=Math.ceil(u*(a+3)+v*a)}return l},c.isIE=function(){return void 0!==document.all&&!("pageXOffset"in window)},c.hideToolTip=function(t,e,a){t.getUseFade()?(clearInterval(e.fadeInterval),e.fadeInterval=setInterval(function(){c.fadeToolTip(-1,e,0)},a)):(e.style.opacity=0,e.style.filter="alpha(opacity=0)",e.style.visibility="hidden")},c.fadeToolTip=function(t,e,a){var n=parseInt(e.getAttribute("fadeIncrement")),s=e.getAttribute("currentOpacity"),i=parseInt(s);if(i!=a&&1==t||0!=i&&-1==t){var o=n;a-i<n&&1==t?o=a-i:s<n&&-1==t&&(o=i),s=i+o*t,e.style.opacity=.01*s,e.style.filter="alpha(opacity="+s+")",e.setAttribute("currentOpacity",s)}else clearInterval(e.fadeInterval),-1==t&&(e.style.opacity=0,e.style.filter="alpha(opacity=0)",e.style.visibility="hidden")},c.hashString=function(t){t=t||"default",t+="";for(var e=5381,a=0;a<t.length;a++)t.charCodeAt&&(e=(e<<5)+e+t.charCodeAt(a)),e&=e;return e>>>0},c.hashKey=function(t){return this.hashString(t)},c.criticalPath=function(t){var a={};t.forEach(function(t){t.duration=new Date(t.pEnd).getTime()-new Date(t.pStart).getTime()}),t.forEach(function(t){a[t.pID]||(a[t.pID]=t),a[t.pParent]||(a[t.pParent]={childrens:[]}),a[t.pID].childrens||(a[t.pID].childrens=[]),a[t.pParent].childrens.push(t);var e=a[t.pParent].childrens[0].duration;a[t.pParent].childrens.forEach(function(t){t.duration>e&&(e=t.duration)}),a[t.pParent].duration=e});for(var n={0:a[0]},s=a[0],e=function(){if(0<s.childrens.length){var e=s.childrens[0],a=e.duration;s.childrens.forEach(function(t){t.duration>a&&(a=(e=t).duration)}),n[e.pID]=e,s=e}else s=null};s;)e()}},{}],10:[function(t,e,U){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var B=t("./task"),l=t("./utils");U.parseXML=function(t,e){var a;(a=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP")).open("GET",t,!1),a.send(null);var n=a.responseXML;U.AddXMLTask(e,n)},U.parseXMLString=function(t,e){var a;void 0!==window.DOMParser?a=(new window.DOMParser).parseFromString(t,"text/xml"):void 0!==window.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")&&((a=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",a.loadXML(t)),U.AddXMLTask(e,a)},U.findXMLNode=function(t,e){var a;try{a=t.getElementsByTagName(e)}catch(t){}return a},U.getXMLNodeValue=function(t,e,a,n){var s;try{s=t.getElementsByTagName(e)[0].childNodes[0].nodeValue}catch(t){void 0!==n&&(s=n)}return void 0!==s&&null!=s&&(1==a?s*=1:2==a&&(s=s.toString())),s},U.AddXMLTask=function(t,e){var a,n="",s=0,i=0,o=0,r=0,l=0,d=0,u=new Array,h=new Array,g=new Array,v=new Array,c=U.findXMLNode(e,"Project");if(void 0!==c&&0<c.length&&(n=c[0].getAttribute("xmlns")),"http://schemas.microsoft.com/project"==n){!0,t.setDateInputFormat("yyyy-mm-dd"),s=void 0===(a=U.findXMLNode(e,"Task"))?0:a.length;var p=U.findXMLNode(e,"Resource");for(i=void 0===p?s=0:p.length,o=0;o<i;o++){var m=U.getXMLNodeValue(p[o],"Name",2,""),f=U.getXMLNodeValue(p[o],"UID",1,-1);0<m.length&&0<f&&(g[f]=m)}var D=U.findXMLNode(e,"Assignment");for(r=void 0===D?0:D.length,o=0;o<r;o++){f=void 0;var T=U.getXMLNodeValue(D[o],"ResourceUID",1,-1);0<(f=U.getXMLNodeValue(D[o],"TaskUID",1,-1))&&(0<T&&(h[f]=g[T]),u[f]=D[o])}for(o=0;o<s;o++){f=void 0;var w=void 0;0!=(f=U.getXMLNodeValue(a[o],"UID",1,0))&&(w=U.getXMLNodeValue(a[o],"OutlineNumber",2,"0")),0<f&&(v[w]=f),d<f&&(d=f)}for(o=0;o<s;o++){if(0!=(Y=U.getXMLNodeValue(a[o],"UID",1,0))){var y=U.getXMLNodeValue(a[o],"Name",2,"No Task Name"),k=U.getXMLNodeValue(a[o],"Start",2,""),L=U.getXMLNodeValue(a[o],"Finish",2,""),S=U.getXMLNodeValue(a[o],"HyperlinkAddress",2,""),M=U.getXMLNodeValue(a[o],"Milestone",1,0),b=U.getXMLNodeValue(a[o],"PercentWorkComplete",1,0),N=U.getXMLNodeValue(a[o],"Cost",2,0),C=U.getXMLNodeValue(a[o],"Summary",1,0),F=0;w=void 0;1<U.getXMLNodeValue(a[o],"OutlineLevel",1,0)&&(F=v[(w=U.getXMLNodeValue(a[o],"OutlineNumber",2,"0")).substr(0,w.lastIndexOf("."))]);var I=void 0;try{I=a[o].getElementsByTagName("Notes")[0].childNodes[1].nodeValue}catch(t){I=""}var E=void 0;E=void 0!==h[Y]?h[Y]:"";var j=U.findXMLNode(a[o],"PredecessorLink");r=void 0===j?0:j.length;var H="";for(l=0;l<r;l++){var P=U.getXMLNodeValue(j[l],"PredecessorUID",1,-1),x=U.getXMLNodeValue(j[l],"Type",1,1);if(0<P)switch(0<H.length&&(H+=","),x){case 0:H+=P+"FF";break;case 1:H+=P+"FS";break;case 2:H+=P+"SF";break;case 3:H+=P+"SS";break;default:H+=P+"FS"}}var A=1,O="",G=void 0;G=0<C?"ggroupblack":0<M?"gmilestone":"gtaskblue";var R=U.findXMLNode(u[Y],"TimephasedData");r=void 0===R?0:R.length;var J=k,X=L,q=!1,W=H.replace(/,*[0-9]+[FS]F/g,"");for(l=0;l<r;l++){var V=U.getXMLNodeValue(R[l],"Value",2,"0");V="0"+V.replace(/\D/g,""),0==(V*=1)&&!q||l+1==r&&2==C?(C=2,l+1==r&&(W=H.replace(/,*[0-9]+[FS]S/g,"")),d++,X=U.getXMLNodeValue(R[l],l+1==r?"Finish":"Start",2,""),t.AddTaskItem(new B.TaskItem(d,y,J,X,"gtaskblue",S,M,E,b,0,Y,A,W,O,I,t,N)),q=!0,W=""):0!=V&&q&&(J=U.getXMLNodeValue(R[l],"Start",2,""),q=!1)}q&&(H=""),t.AddTaskItem(new B.TaskItem(Y,y,k,L,G,S,M,E,b,C,F,A,H,O,I,t,N))}}}else for(s=(a=e.getElementsByTagName("task")).length,o=0;o<s;o++){var Y;if(0!=(Y=U.getXMLNodeValue(a[o],"pID",1,0))){y=U.getXMLNodeValue(a[o],"pName",2,"No Task Name"),k=U.getXMLNodeValue(a[o],"pStart",2,""),L=U.getXMLNodeValue(a[o],"pEnd",2,""),S=U.getXMLNodeValue(a[o],"pLink",2,""),M=U.getXMLNodeValue(a[o],"pMile",1,0),b=U.getXMLNodeValue(a[o],"pComp",1,0),N=U.getXMLNodeValue(a[o],"pCost",2,0),C=U.getXMLNodeValue(a[o],"pGroup",1,0),F=U.getXMLNodeValue(a[o],"pParent",1,0),E=U.getXMLNodeValue(a[o],"pRes",2,""),A=U.getXMLNodeValue(a[o],"pOpen",1,1),H=U.getXMLNodeValue(a[o],"pDepend",2,""),O=U.getXMLNodeValue(a[o],"pCaption",2,""),I=U.getXMLNodeValue(a[o],"pNotes",2,"");void 0===(G=U.getXMLNodeValue(a[o],"pClass",2,""))&&(G=0<C?"ggroupblack":0<M?"gmilestone":"gtaskblue"),t.AddTaskItem(new B.TaskItem(Y,y,k,L,G,S,M,E,b,C,F,A,H,O,I,t,N))}}},U.getXMLProject=function(){for(var t='<?xml version="1.0" encoding="UTF-8" standalone="yes"?><project xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">',e=0;e<this.vTaskList.length;e++)t+=this.getXMLTask(e,!0);return t+="</project>"},U.getXMLTask=function(t,e){var a=0,n=-1,s="",i=l.parseDateFormatStr(this.getDateInputFormat()+" HH:MI");if(!0===e)n=t;else for(a=0;a<this.vTaskList.length;a++)if(this.vTaskList[a].getID()==t){n=a;break}if(0<=n&&n<this.vTaskList.length){s="<task>",s+="<pID>"+this.vTaskList[n].getID()+"</pID>",s+="<pName>"+this.vTaskList[n].getName()+"</pName>",s+="<pStart>"+l.formatDateStr(this.vTaskList[n].getStart(),i,this.vLangs[this.vLang])+"</pStart>",s+="<pEnd>"+l.formatDateStr(this.vTaskList[n].getEnd(),i,this.vLangs[this.vLang])+"</pEnd>",s+="<pClass>"+this.vTaskList[n].getClass()+"</pClass>",s+="<pLink>"+this.vTaskList[n].getLink()+"</pLink>",s+="<pMile>"+this.vTaskList[n].getMile()+"</pMile>"," "!=this.vTaskList[n].getResource()&&(s+="<pRes>"+this.vTaskList[n].getResource()+"</pRes>"),s+="<pComp>"+this.vTaskList[n].getCompVal()+"</pComp>",s+="<pCost>"+this.vTaskList[n].getCost()+"</pCost>",s+="<pGroup>"+this.vTaskList[n].getGroup()+"</pGroup>",s+="<pParent>"+this.vTaskList[n].getParent()+"</pParent>",s+="<pOpen>"+this.vTaskList[n].getOpen()+"</pOpen>",s+="<pDepend>";var o=this.vTaskList[n].getDepend();for(a=0;a<o.length;a++)0<a&&(s+=","),0<o[a]&&(s+=o[a]+this.vTaskList[n].getDepType()[a]);s+="</pDepend>",s+="<pCaption>"+this.vTaskList[n].getCaption()+"</pCaption>";var r=document.createDocumentFragment();s+="<pNotes>"+this.newNode(r,"div",null,null,this.vTaskList[n].getNotes().innerHTML).innerHTML+"</pNotes>",s+="</task>"}return s}},{"./task":8,"./utils":9}]},{},[1])(1)})},{}]},{},["MFmt"]);