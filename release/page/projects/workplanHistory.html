<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="author" content="PT Sigma Cipta Caraka (Telkomsigma)">
	<meta name="description" content="HOME for PROUDS 2 Web Application">
	<link rel="icon" href="http://localhost:5501/media/favicon.png" type="image/x-icon">
	<title>WORKPLAN HISTORY | PROUDS 2</title>

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">
	<link rel="stylesheet" href="https://cdn.materialdesignicons.com/3.9.97/css/materialdesignicons.min.css">
	<link rel="stylesheet" href="../../src/style.min.css">
	<link rel="stylesheet" href="../../src/perfect-scrollbar.min.css">

	<!-- JSGanttChart -->
	<link href="http://localhost:5501/plugins/jsgantt-improved/jsgantt.css" rel="stylesheet" type="text/css">
	<script src="http://localhost:5501/plugins/jsgantt-improved/jsgantt.js" type="text/javascript"></script>
</head>

<body>
	<div class="loader-wrapper animated fadeIn">
		<img src="http://localhost:5501/media/loader.gif">
	</div>

	<div id="main-layout" class="wrapper open-first">
		<section id="side-main" class="sidebar">
			<div class="brand animated slideInLeft fast">
				<span>PROUDS</span>
			</div>
			<div class="side-list animated slideInLeft faster">
				<a href="#notification" class="parent-list">
					<div class="list-title">
						<label>
							<span class="mdi mdi-bell-outline in-left"></span>
							<span>Notification</span>
						</label>
						<div class="action">
							<span class="tag is-warning">{{notifCount}}</span>
						</div>
					</div>
				</a>
			</div>

			<!-- Sidebar disesuaikan dengan halaman yang dibuka -->
			<side-list label="Project" name="project">
				<side-item href="./list.html" active="">Project List</side-item>
				<side-item href="./projectAssignment.html">Project Assignment</side-item>
				<side-item href="./projectRequest.html">Project Request</side-item>
				<side-item href="./timesheetList.html">Timesheet</side-item>
				<side-item href="../maintenance.html">Rebaseline</side-item>
				<side-item href="../maintenance.html">Closing</side-item>
			</side-list>

			<side-list label="My Workspace" name="ws">
				<side-item href="../maintenance.html">Help [default]</side-item>
			</side-list>
		</section>

		<nav id="nav-main" class="navbar main is-primary" role="navigation" aria-label="main navigation">
			<div class="navbar-menu main-navbar">
				<div class="navbar-start">
					<a id="toggle-sidebar" class="navbar-item">
						<span class="mdi mdi-chevron-left mdi-24px"></span>
					</a>

					<a class="navbar-item is-active">
						PROJECT
					</a>

					<a class="navbar-item">
						Resource
					</a>

					<a class="navbar-item">
						Monitoring
					</a>

					<a class="navbar-item">
						Operations
					</a>

					<a href="../reports/utilizationMap.html" class="navbar-item">
						Reports
					</a>
				</div>

				<div class="navbar-end">
					<a href="../maintenance.html" class="navbar-item hover-text">
						<span class="mdi mdi-view-dashboard-outline"></span>
						<span data-toggle="text" class="animated fadeIn is-uppercase in-right faster">dashboard</span>
					</a>

					<a href="../maintenance.html" class="navbar-item hover-text">
						<span class="mdi mdi-settings-outline"></span>
						<span data-toggle="text" class="animated fadeIn is-uppercase in-right faster">setting</span>
					</a>

					<div class="navbar-item has-dropdown is-hoverable">
						<div class="navbar-link is-arrowless">
							<span class="mdi mdi-account-outline"></span>
						</div>
						<div class="navbar-dropdown is-boxed is-right">
							<a href="../maintenance.html" class="navbar-item">Account Profile</a>
							<a href="../maintenance.html" class="navbar-item">Need Help ?</a>
							<hr class="navbar-divider">
							<a href="#" class="navbar-item">
								<span>Sign Out</span>
								<span class="mdi mdi-logout-variant"></span>
							</a>
						</div>
					</div>
				</div>
			</div>
		</nav>

		<section id="vapp" class="contentPage">
			<section class="hero is-light is-bold">
				<div class="hero-body">
					<nav class="level">
						<div class="level-left">
							<h1 class="title is-marginless has-text-right">
								<span>Workplan History</span>
							</h1>
						</div>
						<div class="level-right">
							<div id="bookmarkPage">
								<bookmark-button></bookmark-button>
							</div>
						</div>
					</nav>
				</div>
			</section>
			<section class="section">
				<div id="contentApp" class="container" data-title="Workplan History">
					<paging ref="paging" default="workplan" show-breadcrumbs="">
						<template slot="beforeDefault">
							<li><a href="./list.html">Project List</a></li>
						</template>

						<div class="columns is-marginless">
							<div class="column is-8-desktop content is-marginless is-paddingless">
								<h3 class="is-small has-text-weight-light is-reduced-margin is-uppercase">
									Delivery
									Awesome
									App Mantap Super Jaya
									Semua Suka Sampai Mendunia</h3>
								<b-field grouped="">
									<div class="control">
										<b-taglist attached="">
											<b-tag type="is-dark">ID</b-tag>
											<b-tag type="is-info">1900123</b-tag>
										</b-taglist>
									</div>
									<div class="control">
										<b-taglist attached="" size="are-medium">
											<b-tag type="is-dark">IWO</b-tag>
											<b-tag type="is-info">P-1909-TTES0481</b-tag>
										</b-taglist>
									</div>
									<div class="control">
										<b-taglist attached="" size="are-medium">
											<b-tag type="is-dark">PM</b-tag>
											<b-tag type="is-info">Ade Wiranata Putra</b-tag>
										</b-taglist>
									</div>
									<div class="control">
										<b-taglist attached="" size="are-medium">
											<b-tag type="is-dark">
												<span class="mdi mdi-account-tie is-marginless"></span>
											</b-tag>
											<b-tag type="is-info">2</b-tag>
										</b-taglist>
									</div>
								</b-field>
							</div>
						</div>

						<span class="white-space" style="margin-bottom:.7rem;"></span>

						<paging-page page-id="workplan" label="Workplan History">
							<div class="container">
								<div class="card">
									<header class="card-header" style="padding: 0.75rem 1rem;">
										<nav class="level" style="width:100%;">
											<div class="level-left">
												<form ref="changeversion"
													action="http://localhost:5501/demo/post_detect.php" method="get">
													<b-select size="is-small" name="version" @input="changeVersion"
														:value="version.current">
														<opt-ver value="003" label="v3" start="01/05/2020"
															end="01/12/2020" selected=""></opt-ver>
														<opt-ver value="002" label="v2" start="01/03/2020"
															end="01/08/2020"></opt-ver>
														<opt-ver value="001" label="v1" start="01/01/2020"
															end="01/05/2020"></opt-ver>
													</b-select>
												</form>
											</div>
											<div class="level-right">
												<div class="level-item">
													<b-dropdown aria-role="list" @change="doCompare">
														<b-button type="is-info" size="is-small" slot="trigger">
															<span class="mdi mdi-select-compare in-left"></span>
															<span>Compare Version</span>
														</b-button>

														<b-dropdown-item :value="item" v-for="item in compareList"
															:key="'compare-list-'+item.id">
															<span>{{item.label}}: {{ item.start | moment }} â‡’
																{{ item.end | moment }}</span>
														</b-dropdown-item>
													</b-dropdown>
												</div>
												<div class="level-item">
													<b-button type="is-info" size="is-small"
														@click="changePage('changelog')">
														<span class="mdi mdi-source-branch in-left"></span>
														<span>Changelog</span>
													</b-button>
												</div>
											</div>
										</nav>
									</header>
									<section class="card-content" style="padding: .75em 0px 0px 0px;">
										<ganttchart></ganttchart>
									</section>
								</div>
							</div>
						</paging-page>

						<paging-page page-id="changelog" label="Changelog Table">
							<data-table-no-card :show-all="false" :data="changelog.data" :fields="[]" striped=""
								detailed="" detail-key="id">
								<template slot-scope="{row}">
									<b-table-column field="label" label="Change Type" width="200" sortable="">
										<p class="is-marginless"><b>{{row.label}}</b></p>
										<p class="is-marginless">change at <span
												class="has-text-info">{{row.changeDate | moment}}</span></p>
									</b-table-column>
									<b-table-column field="changeBy" label="Changed By" width="200" sortable="">
										{{ row.changeBy }}
									</b-table-column>
									<b-table-column field="previous" label="Last Value" sortable="">
										{{ row.previous | checkLogType }}
									</b-table-column>
									<b-table-column field="current" label="Current Value" sortable="">
										{{ row.current | checkLogType }}
									</b-table-column>
								</template>

								<template slot="detail" slot-scope="{row: {desc}}">
									<label class="label">Description</label>
									<p>{{ desc }}</p>
								</template>

								<template slot="top-right">
									<div class="level-item">
										<div class="field has-addons">
											<div class="control">
												<span class="button is-static is-dark-blend">
													Workplan Version
												</span>
											</div>
											<div class="control">
												<span v-html="currentLabel"
													class="button is-static is-light-blend"></span>
											</div>
										</div>
									</div>
									<div class="level-item">
										<b-button type="is-info is-long" @click="changePage('workplan')">Back
										</b-button>
									</div>
								</template>

								<template slot="empty">
									<b-message type="is-warning">
										<p class="has-text-centered">
											Sorry, we can't find any data related
										</p>
									</b-message>
								</template>

							</data-table-no-card>
						</paging-page>

						<b-modal :active.sync="modal.display" full-screen="" :can-cancel="false">
							<compare-table title="Delivery Awesome App Mantap Super Jaya Semua Suka Sampai Mendunia"
								:wp-a="modal.wpA" :wp-b="modal.wpB" project_id="PX2"></compare-table>
						</b-modal>
					</paging>
				</div>
			</section>

			<span class="white-space"></span>
		</section>

		<section id="infoFooter">
			<info-footer api-entry-chart="http://localhost:5501/demo/chart.php?entry"
				api-utilization-chart="http://localhost:5501/demo/chart.php?utilization" entry="100" utilization="100">
			</info-footer>
		</section>
	</div>

	<div class="api-testing" base="http://localhost:5501/demo/">
		<!-- 
				expected return from getNotification!
				[{
					"id": {String},
					"subject": {String},
					"content": {HTML String},
					"dateStamp": {Date String with format DD/MM/YYYY},
					"timeStamp": {Time String with format H:i},
					"read": {Boolean}
				}, ... ],
			 -->
		<api-test url="getNotification.php" key="getNotification"></api-test>

		<!-- 
			Get Workplan Version Changelog
			Send Data:
			- id: String version id [GET]
		-->
		<api-test url="axios_check.php?dum=changelogTable&ver={id}" key="wpChangelog"></api-test>

		<!-- 
			get workplan tasks by projects and version
			Send Data:
			- project_id: string project id [GET]
			- version_id: workplan version id [GET]
		-->
		<api-test url="http://localhost:5501/demo/getWorkplan.php?project={project}&version={version}"
			key="workplanTasks"></api-test>
	</div>

	<script id="GanttJSON" type="application/json">
		[
			{
				"pID": "P1",
				"pName": "Initiating",
				"pStart": "",
				"pEnd": "",
				"duration": 0,
				"pClass": "gtaskred",
				"pMile": 1,
				"pComp": "0",
				"pGroup": 1,
				"pParent": "0",
				"pOpen": 1,
				"pDepend": "",
				"estProgress": 0,
				"processGroupID": "P1",
				"calcMethod": {
					"id": "1",
					"label": "Manual by PM"
				},
				"workdays": "1",
				"autoCalculationProgress": "0",
				"wbsNo": "",
				"weight": 1,
				"weightPercent": 0,
				"integration": "",
				"mandays": "0",
				"roleId": "Programer Analyst",
				"roleName": "Programer Analyst"
			},
			{
				"pID": "P2",
				"pName": "Planning",
				"pStart": "",
				"pEnd": "",
				"duration": 0,
				"pClass": "gtaskred",
				"pMile": 1,
				"pComp": "0",
				"pGroup": 1,
				"pParent": "0",
				"pOpen": 1,
				"pDepend": "",
				"estProgress": 0,
				"processGroupID": "P2",
				"calcMethod": {
					"id": "2",
					"label": "Manual by Working Progress"
				},
				"workdays": "1",
				"autoCalculationProgress": "0",
				"wbsNo": "",
				"weight": 1,
				"weightPercent": 0,
				"integration": "",
				"mandays": "0",
				"roleId": "Desaigner Web",
				"roleName": "Desaigner Web"
			},
			{
				"pID": "P3",
				"pName": "Executing",
				"pStart": "",
				"pEnd": "",
				"duration": 0,
				"pClass": "gtaskred",
				"pMile": 1,
				"pComp": "0",
				"pGroup": 1,
				"pParent": "0",
				"pOpen": 1,
				"pDepend": "",
				"estProgress": 0,
				"processGroupID": "P3",
				"calcMethod": {
					"id": "3",
					"label": "Manual by Timesheet Hours"
				},
				"workdays": "1",
				"autoCalculationProgress": "0",
				"wbsNo": "",
				"weight": 1,
				"weightPercent": 0,
				"integration": "",
				"mandays": "0",
				"roleId": "Senior Programer",
				"roleName": "Senior Programer"
			},
			{
				"pID": "418871",
				"pName": "Manage Operation Vmware HP Server",
				"pClass": "gtaskred",
				"pMile": 0,
				"pStart": "2019-07-01",
				"pEnd": "2020-06-30",
				"duration": 0,
				"pComp": "0",
				"pGroup": 1,
				"pParent": "P3",
				"pOpen": 1,
				"pDepend": "",
				"estProgress": 0,
				"processGroupID": "P3",
				"calcMethod": {
					"id": "3",
					"label": "Manual by Timesheet Hours"
				},
				"workdays": "1",
				"autoCalculationProgress": "0",
				"wbsNo": "",
				"weight": 1,
				"weightPercent": 0,
				"integration": "",
				"mandays": "0",
				"roleId": "Analyst",
				"roleName": "Analyst"
			},
			{
				"pID": "419002",
				"pName": "Day to day VMWare Engineer Leader",
				"pClass": "gtaskred",
				"pMile": 0,
				"pStart": "2019-09-08",
				"pEnd": "2020-06-30",
				"duration": 10,
				"pComp": "0",
				"pGroup": 0,
				"pParent": "418871",
				"pOpen": 1,
				"pDepend": "",
				"estProgress": 0,
				"processGroupID": "P3",
				"calcMethod": {
					"id": "2",
					"label": "Manual by Working Progress"
				},
				"workdays": "1",
				"autoCalculationProgress": "70",
				"wbsNo": "",
				"weight": 1,
				"weightPercent": 0,
				"integration": "",
				"mandays": "0",
				"roleId": "Programer Analyst",
				"roleName": "Programer Analyst",
				"deleteTask": "https://www.google.com"
			},
			{
				"pID": "418873",
				"pName": "Day to day MO VM TC-CRM Storage Leader",
				"pClass": "gtaskred",
				"pMile": 0,
				"pStart": "2019-08-01",
				"pEnd": "2020-04-13",
				"duration": 0,
				"pComp": "0",
				"pGroup": 0,
				"pParent": "418871",
				"pOpen": 1,
				"pDepend": "419003",
				"estProgress": 0,
				"processGroupID": "P3",
				"calcMethod": {
					"id": "1",
					"label": "Manual by PM"
				},
				"workdays": "1",
				"autoCalculationProgress": "0",
				"wbsNo": "",
				"weight": 1,
				"weightPercent": 0,
				"integration": "",
				"mandays": "0",
				"roleId": "Programer Analyst",
				"roleName": "Programer Analyst"
			},
			{
				"pID": "418872",
				"pName": "Day to day VMWare Senior Leader",
				"pClass": "gtaskred",
				"pMile": 0,
				"pStart": "2019-08-01",
				"pEnd": "2020-04-13",
				"duration": 0,
				"pComp": "0",
				"pGroup": 0,
				"pParent": "418871",
				"pOpen": 1,
				"pDepend": "426175",
				"estProgress": 0,
				"processGroupID": "P3",
				"calcMethod": {
					"id": "1",
					"label": "Manual by PM"
				},
				"workdays": "1",
				"autoCalculationProgress": "0",
				"wbsNo": "",
				"weight": 1,
				"weightPercent": 0,
				"integration": "",
				"mandays": "0",
				"roleId": "Programer Analyst",
				"roleName": "Programer Analyst"
			},
			{
				"pID": "426175",
				"pName": "Day to day Admin",
				"pClass": "gtaskred",
				"pMile": 0,
				"pStart": "2019-07-01",
				"pEnd": "2019-07-29",
				"duration": 0,
				"pComp": "0",
				"pGroup": 0,
				"pParent": "418871",
				"pOpen": 1,
				"pDepend": "",
				"estProgress": 0,
				"processGroupID": "P3",
				"calcMethod": {
					"id": "1",
					"label": "Manual by PM"
				},
				"workdays": "1",
				"autoCalculationProgress": "0",
				"wbsNo": "",
				"weight": 1,
				"weightPercent": 0,
				"integration": "",
				"mandays": "0",
				"roleId": "Programer Analyst",
				"roleName": "Programer Analyst"
			},
			{
				"pID": "419003",
				"pName": "Project Management",
				"pClass": "gtaskred",
				"pMile": 0,
				"pStart": "2019-07-01",
				"pEnd": "2019-07-29",
				"duration": 0,
				"pComp": "0",
				"pGroup": 0,
				"pParent": "418871",
				"pOpen": 1,
				"pDepend": "",
				"estProgress": 0,
				"processGroupID": "P3",
				"calcMethod": {
					"id": "1",
					"label": "Manual by PM"
				},
				"workdays": "1",
				"autoCalculationProgress": "0",
				"wbsNo": "",
				"weight": 1,
				"weightPercent": 0,
				"integration": "",
				"mandays": "0",
				"roleId": "Programer Analyst",
				"roleName": "Programer Analyst"
			},
			{
				"pID": "P4",
				"pName": "Monitoring and Controlling",
				"pStart": "",
				"pEnd": "",
				"duration": 0,
				"pClass": "gtaskred",
				"pMile": 1,
				"pComp": "0",
				"pGroup": 1,
				"pParent": "0",
				"pOpen": 1,
				"pDepend": "",
				"estProgress": 0,
				"processGroupID": "P4",
				"calcMethod": {
					"id": "1",
					"label": "Manual by PM"
				},
				"workdays": "1",
				"autoCalculationProgress": "0",
				"wbsNo": "",
				"weight": 1,
				"weightPercent": 0,
				"integration": "",
				"mandays": "0",
				"roleId": "Programer Analyst",
				"roleName": "Programer Analyst"
			},
			{
				"pID": "P5",
				"pName": "Closing",
				"pStart": "",
				"pEnd": "",
				"duration": 0,
				"pClass": "gtaskred",
				"pMile": 1,
				"pComp": "0",
				"pGroup": 1,
				"pParent": "0",
				"pOpen": 1,
				"pDepend": "",
				"estProgress": 0,
				"processGroupID": "P5",
				"calcMethod": {
					"id": "1",
					"label": "Manual by PM"
				},
				"workdays": "1",
				"autoCalculationProgress": "0",
				"wbsNo": "",
				"weight": 1,
				"weightPercent": 0,
				"integration": "",
				"mandays": "0",
				"roleId": "Programer Analyst",
				"roleName": "Programer Analyst"
			}
		]
    </script>

	<script src="../../src/main.min.js"></script>
	<script src="../../src/projects/workplanHistory.min.js"></script>
</body>

</html>